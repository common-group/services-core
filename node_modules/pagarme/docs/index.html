<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home - Postman Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-acquirers.html">acquirers</a><ul class='methods'><li data-type='method'><a href="module-acquirers.html#~all">all</a></li><li data-type='method'><a href="module-acquirers.html#~create">create</a></li><li data-type='method'><a href="module-acquirers.html#~find">find</a></li><li data-type='method'><a href="module-acquirers.html#~update">update</a></li></ul></li><li><a href="module-acquirersConfigurations.html">acquirersConfigurations</a><ul class='methods'><li data-type='method'><a href="module-acquirersConfigurations.html#~all">all</a></li><li data-type='method'><a href="module-acquirersConfigurations.html#~create">create</a></li><li data-type='method'><a href="module-acquirersConfigurations.html#~find">find</a></li><li data-type='method'><a href="module-acquirersConfigurations.html#~update">update</a></li></ul></li><li><a href="module-antifraudAnalyses.html">antifraudAnalyses</a><ul class='methods'><li data-type='method'><a href="module-antifraudAnalyses.html#~find">find</a></li></ul></li><li><a href="module-balance.html">balance</a><ul class='methods'><li data-type='method'><a href="module-balance.html#~find">find</a></li><li data-type='method'><a href="module-balance.html#~primary">primary</a></li></ul></li><li><a href="module-balanceOperations.html">balanceOperations</a><ul class='methods'><li data-type='method'><a href="module-balanceOperations.html#~all">all</a></li><li data-type='method'><a href="module-balanceOperations.html#~days">days</a></li><li data-type='method'><a href="module-balanceOperations.html#~find">find</a></li></ul></li><li><a href="module-bankAccounts.html">bankAccounts</a><ul class='methods'><li data-type='method'><a href="module-bankAccounts.html#~all">all</a></li><li data-type='method'><a href="module-bankAccounts.html#~create">create</a></li><li data-type='method'><a href="module-bankAccounts.html#~find">find</a></li></ul></li><li><a href="module-bulkAnticipations.html">bulkAnticipations</a><ul class='methods'><li data-type='method'><a href="module-bulkAnticipations.html#~cancel">cancel</a></li><li data-type='method'><a href="module-bulkAnticipations.html#~confirm">confirm</a></li><li data-type='method'><a href="module-bulkAnticipations.html#~create">create</a></li><li data-type='method'><a href="module-bulkAnticipations.html#~days">days</a></li><li data-type='method'><a href="module-bulkAnticipations.html#~destroy">destroy</a></li><li data-type='method'><a href="module-bulkAnticipations.html#~find">find</a></li><li data-type='method'><a href="module-bulkAnticipations.html#~limits">limits</a></li><li data-type='method'><a href="module-bulkAnticipations.html#~update">update</a></li></ul></li><li><a href="module-cards.html">cards</a><ul class='methods'><li data-type='method'><a href="module-cards.html#~all">all</a></li><li data-type='method'><a href="module-cards.html#~create">create</a></li><li data-type='method'><a href="module-cards.html#~find">find</a></li></ul></li><li><a href="module-client.html">client</a><ul class='methods'><li data-type='method'><a href="module-client.html#~connect">connect</a></li></ul></li><li><a href="module-company.html">company</a><ul class='methods'><li data-type='method'><a href="module-company.html#~activate">activate</a></li><li data-type='method'><a href="module-company.html#~affiliationProgress">affiliationProgress</a></li><li data-type='method'><a href="module-company.html#~create">create</a></li><li data-type='method'><a href="module-company.html#~createTemporary">createTemporary</a></li><li data-type='method'><a href="module-company.html#~current">current</a></li><li data-type='method'><a href="module-company.html#~resetKeys">resetKeys</a></li><li data-type='method'><a href="module-company.html#~update">update</a></li><li data-type='method'><a href="module-company.html#~updateBranding">updateBranding</a></li></ul></li><li><a href="module-customers.html">customers</a><ul class='methods'><li data-type='method'><a href="module-customers.html#~all">all</a></li><li data-type='method'><a href="module-customers.html#~create">create</a></li><li data-type='method'><a href="module-customers.html#~find">find</a></li></ul></li><li><a href="module-events.html">events</a><ul class='methods'><li data-type='method'><a href="module-events.html#~find">find</a></li><li data-type='method'><a href="module-events.html#~findCustom">findCustom</a></li></ul></li><li><a href="module-gatewayOperations.html">gatewayOperations</a><ul class='methods'><li data-type='method'><a href="module-gatewayOperations.html#~find">find</a></li><li data-type='method'><a href="module-gatewayOperations.html#~refuseMessage">refuseMessage</a></li></ul></li><li><a href="module-invites.html">invites</a><ul class='methods'><li data-type='method'><a href="module-invites.html#~create">create</a></li><li data-type='method'><a href="module-invites.html#~destroy">destroy</a></li><li data-type='method'><a href="module-invites.html#~find">find</a></li></ul></li><li><a href="module-payables.html">payables</a><ul class='methods'><li data-type='method'><a href="module-payables.html#~all">all</a></li><li data-type='method'><a href="module-payables.html#~find">find</a></li></ul></li><li><a href="module-plans.html">plans</a><ul class='methods'><li data-type='method'><a href="module-plans.html#~all">all</a></li><li data-type='method'><a href="module-plans.html#~create">create</a></li><li data-type='method'><a href="module-plans.html#~find">find</a></li><li data-type='method'><a href="module-plans.html#~update">update</a></li></ul></li><li><a href="module-postback.html">postback</a><ul class='methods'><li data-type='method'><a href="module-postback.html#~calculateSignature">calculateSignature</a></li><li data-type='method'><a href="module-postback.html#~verifySignature">verifySignature</a></li></ul></li><li><a href="module-postbacks.html">postbacks</a><ul class='methods'><li data-type='method'><a href="module-postbacks.html#~find">find</a></li><li data-type='method'><a href="module-postbacks.html#~redeliver">redeliver</a></li></ul></li><li><a href="module-recipients.html">recipients</a><ul class='methods'><li data-type='method'><a href="module-recipients.html#~create">create</a></li><li data-type='method'><a href="module-recipients.html#~find">find</a></li><li data-type='method'><a href="module-recipients.html#~update">update</a></li></ul></li><li><a href="module-search.html">search</a><ul class='methods'><li data-type='method'><a href="module-search.html#~execute">execute</a></li></ul></li><li><a href="module-security.html">security</a><ul class='methods'><li data-type='method'><a href="module-security.html#~encrypt">encrypt</a></li><li data-type='method'><a href="module-security.html#~sign">sign</a></li><li data-type='method'><a href="module-security.html#~verify">verify</a></li></ul></li><li><a href="module-session.html">session</a><ul class='methods'><li data-type='method'><a href="module-session.html#~create">create</a></li><li data-type='method'><a href="module-session.html#~destroy">destroy</a></li><li data-type='method'><a href="module-session.html#~verify">verify</a></li></ul></li><li><a href="module-splitRules.html">splitRules</a><ul class='methods'><li data-type='method'><a href="module-splitRules.html#~find">find</a></li></ul></li><li><a href="module-subscriptions.html">subscriptions</a><ul class='methods'><li data-type='method'><a href="module-subscriptions.html#~all">all</a></li><li data-type='method'><a href="module-subscriptions.html#~cancel">cancel</a></li><li data-type='method'><a href="module-subscriptions.html#~create">create</a></li><li data-type='method'><a href="module-subscriptions.html#~createTransaction">createTransaction</a></li><li data-type='method'><a href="module-subscriptions.html#~find">find</a></li><li data-type='method'><a href="module-subscriptions.html#~findTransactions">findTransactions</a></li><li data-type='method'><a href="module-subscriptions.html#~update">update</a></li></ul></li><li><a href="module-transactions.html">transactions</a><ul class='methods'><li data-type='method'><a href="module-transactions.html#~calculateInstallmentsAmount">calculateInstallmentsAmount</a></li><li data-type='method'><a href="module-transactions.html#~capture">capture</a></li><li data-type='method'><a href="module-transactions.html#~cardHashKey">cardHashKey</a></li><li data-type='method'><a href="module-transactions.html#~collectPayment">collectPayment</a></li><li data-type='method'><a href="module-transactions.html#~create">create</a></li><li data-type='method'><a href="module-transactions.html#~find">find</a></li><li data-type='method'><a href="module-transactions.html#~refund">refund</a></li><li data-type='method'><a href="module-transactions.html#~update">update</a></li></ul></li><li><a href="module-transfers.html">transfers</a><ul class='methods'><li data-type='method'><a href="module-transfers.html#~all">all</a></li><li data-type='method'><a href="module-transfers.html#~cancel">cancel</a></li><li data-type='method'><a href="module-transfers.html#~create">create</a></li><li data-type='method'><a href="module-transfers.html#~days">days</a></li><li data-type='method'><a href="module-transfers.html#~find">find</a></li><li data-type='method'><a href="module-transfers.html#~limits">limits</a></li></ul></li><li><a href="module-user.html">user</a><ul class='methods'><li data-type='method'><a href="module-user.html#~all">all</a></li><li data-type='method'><a href="module-user.html#~create">create</a></li><li data-type='method'><a href="module-user.html#~current">current</a></li><li data-type='method'><a href="module-user.html#~destroy">destroy</a></li><li data-type='method'><a href="module-user.html#~find">find</a></li><li data-type='method'><a href="module-user.html#~redefinePassword">redefinePassword</a></li><li data-type='method'><a href="module-user.html#~resetPassword">resetPassword</a></li><li data-type='method'><a href="module-user.html#~update">update</a></li><li data-type='method'><a href="module-user.html#~updatePassword">updatePassword</a></li></ul></li><li><a href="module-validator.html">validator</a></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><p><img src="https://cdn.rawgit.com/pagarme/brand/9ec30d3d4a6dd8b799bca1c25f60fb123ad66d5b/logo-circle.svg" width="127px" height="127px" align="left"/></p>
<h1>Pagar.me Javascript</h1><p>A JavaScript library to interface with Pagar.me's API, it works in the browser
and with Node.js.</p>
<p><br></p>
<h2>Description</h2><p>This library covers all your needs for integrating with Pagar.me, providing:</p>
<ul>
<li>A clean Promise-based interface for all endpoints in Pagarme's API</li>
<li>A fast way to generate card hashes</li>
<li>Postback signature validation</li>
<li>Documents validations (CPF, CNPJ, and others)</li>
</ul>
<h2>How to use</h2><p>First, install it:</p>
<pre class="prettyprint source lang-bash"><code>yarn add pagarme</code></pre><p>Or using npm:</p>
<pre class="prettyprint source lang-bash"><code>npm install pagarme</code></pre><p>Pagar.me's JavaScript library can be used in three ways:</p>
<h3>Node.js</h3><p>Import like usual:</p>
<pre class="prettyprint source lang-js"><code>import pagarme from 'pagarme'</code></pre><p>also works using <code>require</code>:</p>
<pre class="prettyprint source lang-js"><code>const pagarme = require('pagarme')</code></pre><h3>Browser (CommonJS)</h3><p>Import the browser build:</p>
<pre class="prettyprint source lang-js"><code>import pagarme from 'pagarme/browser'</code></pre><p>also works using <code>require</code>:</p>
<pre class="prettyprint source lang-js"><code>const pagarme = require('pagarme/browser')</code></pre><h3>Browser (Global Variable)</h3><p>You can also use the latest release from our CDN and import the build
directly in your HTML:</p>
<pre class="prettyprint source lang-html"><code>&lt;script src=&quot;https://assets.pagar.me/pagarme-js/3.0/pagarme.min.js&quot; /></code></pre><p>The library will be available as the global variable <code>pagarme</code>.</p>
<h2>API Docs</h2><p>This library provides a promise based interface for all functions. Before you
can use the library, you need to provide authentication details which will be
used through API calls.</p>
<p>For a detailed documentation, see our <a href="https://pagarme.github.io/pagarme-js">JSDocs</a>.</p>
<h3>Client API</h3><p>All of Pagar.me's REST API endpoints are covered in the <code>client</code> object. Every
function call issued to <code>client</code> will return a <code>Promise</code> which represents and
manages the result's lifecycle.</p>
<h3>Using <code>connect</code></h3><p>When you call <code>connect</code>, a <code>Promise</code> which resolves to a <code>client</code> or an
error will be returned. If an authentication error happens, you can catch
the error with the <code>Promise</code> interface:</p>
<pre class="prettyprint source lang-javascript"><code>import pagarme from 'pagarme'

pagarme.client.connect({ email: 'user@email.com', password: '123456' })
  .then(client => client.transactions.all())
  .then(transactions => console.log(transactions))
  .catch(error => console.error(error))</code></pre><p>As the entire library is based on promises, you can also use ES6 generators
with every call to make code more procedural:</p>
<pre class="prettyprint source lang-javascript"><code>import pagarme from 'pagarme'

let client

try {
  client = yield pagarme.client.connect({
    email: 'user@email.com',
    password: '123456'
  })
} catch (err) {
  console.log('Authentication error')
}

try {
  const transactions = yield client.transactions.all()
  console.log(transactions)
} catch (err) {
  console.log('Error fetching transactions')
}</code></pre><p>The downside of this approach is that you need to handle errors using try/catch.</p>
<p>Pagar.me authorizes clients in various fashions. This library handles all
available authentication strategies:</p>
<h4>Using API key:</h4><pre class="prettyprint source lang-javascript"><code>import pagarme from 'pagarme'

pagarme.client.connect({ api_key: 'ak_test_y7jk294ynbzf93' })
  .then(client => client.transactions.all())
  .then(transactions => console.log(transactions))</code></pre><blockquote>
<p>:warning: Never use API keys in the browser, you should use encryption keys instead.</p>
</blockquote>
<h4>Using encryption key:</h4><pre class="prettyprint source lang-javascript"><code>import pagarme from 'pagarme'

const card = {
  card_number: '4111111111111111',
  card_holder_name: 'abc',
  card_expiration_date: '1225',
  card_cvv: '123',
}

pagarme.client.connect({ encryption_key: 'ek_test_y7jk294ynbzf93' })
  .then(client => client.security.encrypt(card))
  .then(card_hash => console.log(card_hash))</code></pre><h4>Using email and password:</h4><pre class="prettyprint source lang-javascript"><code>import pagarme from 'pagarme'

pagarme.client.connect({ email: 'user@email.com', password: '123456' })
  .then(client => client.transactions.all())
  .then(transactions => console.log(transactions))</code></pre><h2>Building</h2><p>To build the library, use <code>npm start</code>.</p>
<ul>
<li>Node.js build is produced inside the <code>dist</code> directory.</li>
<li>Browser build is produced inside the <code>browser</code> directory.</li>
</ul>
<h2>Testing</h2><p>To run the library tests, use <code>npm test</code>.</p>
<blockquote>
<p>To run tests, you need to export <code>API_KEY</code> environment variable with your
API key. When submitting a PR, Travis will already have it exported.</p>
</blockquote>
<h2>Contributing</h2><p>Community contributions are essential for keeping this library great. We
simply can't access the huge number of platforms and myriad configurations
for running it, so if you find any problems, feel free to open an issue.</p>
<p>Be sure to provide at least the following information on the issue:</p>
<ul>
<li>Environment (e.g. Node 7, Chrome 57)</li>
<li>Operating System (e.g. iOS 10)</li>
<li>Library version (e.g. 3.0.0)</li>
</ul>
<p>We provide source maps to ease debugging. Use them whenever possible when
providing stack traces as it will make digging onto the issue easier.</p>
<h2>License</h2><pre class="prettyprint source"><code>The MIT License (MIT)
Copyright (c) 2017 Pagar.me Pagamentos S/A</code></pre></article>
    </section>






</div>

<br class="clear">

<footer>
    Documentation generated at Sun Apr 02 2017 21:34:29 GMT-0300 (-03)
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>