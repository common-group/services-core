"use strict";window.c=function(){return{models:{},root:{},vms:{},admin:{},h:{}}}(),window.c.h=function(e,t,o){var n=function(e){return window.location.hash===e},r=function(e){var t=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),o=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=o.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},i=function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return e?e:t},a=function(){t.locale("pt",{monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_")})},s=function(e){return null!=e},l=function(e,o){return o=o||"DD/MM/YYYY",e?t(e).locale("pt").format(o):"no date"},c=function(e){return sessionStorage.getItem(e)?void 0:sessionStorage.setItem(e,e)},d=function(e,t){return sessionStorage.getItem(e)?(t.call(),sessionStorage.removeItem(e)):void 0},u=function(t,o){var n=document,r=n.createElement("script");return window.disqus_config=function(){this.page.url=t,this.page.identifier=o},r.src="//catarseflex.disqus.com/embed.js",r.setAttribute("data-timestamp",+new Date),(n.head||n.body).appendChild(r),e("")},m=function(e,o){var n=t(e,o||"DD/MM/YYYY");return n.isValid()?n:t(e)},w={days:"dias",minutes:"minutos",hours:"horas",seconds:"segundos"},p=function Y(e){var Y=w,t=function(){var t=Y[e.unit||"seconds"];return e.total<=1?t.slice(0,-1):t};return{unit:t(),total:e.total}},f=function(e,t){return function(o,n,r){if(!_.isNumber(o))return null;var i="\\d(?=(\\d{"+(r||3)+"})+"+(n>0?"\\D":"$")+")",a=o.toFixed(Math.max(0,~~n));return(t?a.replace(".",t):a).replace(new RegExp(i,"g"),"$&"+(e||","))}},g=f(".",","),b=function(t,o){var n=e.prop(t);return n.toggle=function(){return n(n()===o?t:o)},n},h=e.postgrest.filtersVM({id:"eq"}),v=function(){var e=document.getElementsByTagName("body"),t=_.first(e).getAttribute("data-user");return t?JSON.parse(t):!1},y=function(e){var t=window.location.pathname.split("/").slice(-1)[0];return e===t},x=function(e){return e||"/assets/catarse_bootstrap/user.jpg"},j=function(){return e(".u-text-center.u-margintop-30 u-marginbottom-30",[e('img[alt="Loader"][src="https://s3.amazonaws.com/catarse.files/loader.gif"]')])},k=function(){return e("span.badge.badge-success.margin-side-5",o.t("projects.new_feature_badge"))},z=function(){var e=function(){try{window.FB.XFBML.parse()}catch(e){console.log(e)}};return window.setTimeout(e,500)},P=function(e,t,o){return e>1?e+o:e+t},A=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return e=e.replace(/\r\n?/,"\n"),e.length>0&&(e=e.replace(/\n\n+/g,"</p><p>"),e=e.replace(/\n/g,"<br />"),e="<p>"+e+"</p>"),e},C=function(e){return e.maximum_contributions>0?e.paid_count+e.waiting_payment_count>=e.maximum_contributions:!1},D=function(e){return e.maximum_contributions-(e.paid_count+e.waiting_payment_count)},M=function(e){var t=document.createElement("a");return t.href=e,t},T=function(){return function(e,t){!t&&$&&window.UIHelper.setupResponsiveIframes($(e))}},q=function(){return function(e,t){if(!t){var o=window.location.hash.substr(1);o===e.id&&(window.location.hash="",setTimeout(function(){window.location.hash=e.id}))}}},R=function(e){var t=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;return t.test(e)},S=function(){return window.location.href="/pt/login",!1},I=function(e){var t=0,o=0;do t+=e.offsetTop||0,o+=e.offsetLeft||0,e=e.offsetParent;while(e);return{top:t,left:o}},F=function(){var e=document.getElementsByClassName("modal-close")[0];_.isElement(e)&&(e.onclick=function(e){e.preventDefault(),document.getElementsByClassName("modal-backdrop")[0].style.display="none"})},L=function(){var e=document.getElementsByClassName("icon-close")[0];_.isElement(e)&&(e.onclick=function(t){t.preventDefault(),e.parentElement.remove()})},V=function(e,t){return t=t||{},_.extend({},t,{scope:e})},N=function(t){var o=_.isFunction(t)?function(){t(),e.redraw()}:e.redraw;window.addEventListener("hashchange",o,!1)},O=function(){var e=_.first(document.querySelectorAll("[name=csrf-token]"));return e?e.content:void 0},E=function(e){var t=window.scrollY,o=I(e).top,n=300,r=(o-t)/n,i=function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},a=setInterval(function(){var e=i(t/o)*t;window.scrollTo(0,e),t>=o&&clearInterval(a),t+=r},1)},B=function(){var e=function(e,t){e.onclick=function(){var e=document.getElementById(t);return _.isElement(e)&&E(e),!1}};return function(t,o){o||e(t,t.hash.slice(1))}};return a(),L(),F(),{authenticityToken:O,cumulativeOffset:I,discuss:u,existy:s,validateEmail:R,momentify:l,momentFromString:m,formatNumber:g,idVM:h,getUser:v,toggleProp:b,loader:j,newFeatureBadge:k,fbParse:z,pluralize:P,simpleFormat:A,translatedTime:p,rewardSouldOut:C,rewardRemaning:D,parseUrl:M,hashMatch:n,redrawHashChange:N,useAvatarOrDefault:x,locationActionMatch:y,navigateToDevise:S,storeAction:c,callStoredAction:d,UIHelper:T,toAnchor:q,paramByName:r,i18nScope:V,selfOrEmpty:i,scrollTo:B}}(window.m,window.moment,window.I18n),window.c.models=function(e){var t=e.postgrest.model("contribution_details"),o=e.postgrest.model("project_details"),n=e.postgrest.model("user_details"),r=e.postgrest.model("balances"),i=e.postgrest.model("balance_transactions"),a=e.postgrest.model("balance_transfers"),s=e.postgrest.model("users"),l=e.postgrest.model("bank_accounts"),c=e.postgrest.model("reward_details"),d=e.postgrest.model("project_reminders"),u=e.postgrest.model("contributions"),m=e.postgrest.model("team_totals"),w=e.postgrest.model("project_contributions"),p=e.postgrest.model("project_posts_details"),f=e.postgrest.model("project_contributions_per_day"),g=e.postgrest.model("project_contributions_per_location"),b=e.postgrest.model("project_contributions_per_ref"),h=e.postgrest.model("projects"),_=e.postgrest.model("rpc/project_search"),v=e.postgrest.model("categories"),y=e.postgrest.model("category_totals"),x=e.postgrest.model("category_followers"),j=e.postgrest.model("team_members"),k=e.postgrest.model("notifications"),z=e.postgrest.model("statistics");return j.pageSize(40),c.pageSize(!1),h.pageSize(30),v.pageSize(50),{contributionDetail:t,projectDetail:o,userDetail:n,balance:r,balanceTransaction:i,balanceTransfer:a,bankAccount:l,user:s,rewardDetail:c,contributions:u,teamTotal:m,teamMember:j,project:h,projectSearch:_,category:v,categoryTotals:y,categoryFollower:x,projectContributionsPerDay:f,projectContributionsPerLocation:g,projectContributionsPerRef:b,projectContribution:w,projectPostDetail:p,projectReminder:d,notification:k,statistic:z}}(window.m),window.c.root.Flex=function(e,t,o,n){return{controller:function(){var t=e.prop([]),r=e.prop([]),i=(e.prop(),_.partial(_.sample,_,3)),a={customAction:"//catarse.us5.list-manage.com/subscribe/post?u=ebfcd0d16dbb0001a0bea3639&amp;id=8a4c1a33ce"},s=function(e,t){t||o.discuss("https://catarse.me/flex","flex_page")},l=e.postgrest.filtersVM({mode:"eq",state:"eq",recommended:"eq"}),c=e.postgrest.loaderWithToken(n.statistic.getRowOptions());l.mode("flex").state("online").recommended(!0);var d=e.postgrest.loader(n.project.getPageOptions(l.parameters()));return c.load().then(t),d.load().then(_.compose(r,i)),{addDisqus:s,builder:a,statsLoader:c,stats:t,projectsLoader:d,projects:{loader:d,collection:r}}},view:function(n,r){var i=_.first(n.stats());return[e(".w-section.hero-full.hero-zelo",[e(".w-container.u-text-center",[e("img.logo-flex-home[src='/assets/logo-flex.png'][width='359']"),e(".w-row",[e(".w-col.fontsize-large.u-marginbottom-60.w-col-push-2.w-col-8","Vamos construir uma nova modalidade de crowdfunding para o Catarse!  Junte-se a nós, inscreva seu email!")]),e(".w-row",[e(".w-col.w-col-2"),e.component(t.landingSignup,{builder:n.builder}),e(".w-col.w-col-2")])])]),[e(".section",[e(".w-container",[e(".fontsize-largest.u-margintop-40.u-text-center","Pra quem será?"),e(".fontsize-base.u-text-center.u-marginbottom-60","Iniciaremos a fase de testes com categorias de projetos específicas"),e("div",[e(".w-row.u-marginbottom-60",[e(".w-col.w-col-6",[e(".u-text-center.u-marginbottom-20",[e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e393a01b66e250aca67cb_icon-zelo-com.png'][width='210']"),e(".fontsize-largest.lineheight-loose","Causas")]),e("p.fontsize-base","Flexibilidade para causas de impacto! Estaremos abertos a campanhas de organizações ou pessoas físicas para arrecadação de recursos para causas pessoais, projetos assistencialistas, saúde, ajudas humanitárias, proteção aos animais, empreendedorismo socioambiental, ativismo ou qualquer coisa que una as pessoas para fazer o bem.")]),e(".w-col.w-col-6",[e(".u-text-center.u-marginbottom-20",[e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e3929a0daea230a5f12cd_icon-zelo-pessoal.png'][width='210']"),e(".fontsize-largest.lineheight-loose","Vaquinhas")]),e("p.fontsize-base","Campanhas simples que precisam de flexibilidade para arrecadar dinheiro com pessoas próximas. Estaremos abertos a uma variedade de campanhas pessoais que podem ir desde cobrir custos de estudos a ajudar quem precisa de tratamento médico. De juntar a grana para fazer aquela festa a comprar presentes para alguém com a ajuda da galera. ")])])])])]),e(".w-section.section.bg-greenlime.fontcolor-negative",[e(".w-container",[e(".fontsize-largest.u-margintop-40.u-marginbottom-60.u-text-center","Como funcionará?"),e(".w-row.u-marginbottom-40",[e(".w-col.w-col-6",[e(".u-text-center",[e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e39c578b284493e2a428a_zelo-money.png'][width='180']")]),e(".fontsize-large.u-marginbottom-10.u-text-center.fontweight-semibold","Fique com quanto arrecadar"),e("p.u-text-center.fontsize-base","O flex é para impulsionar campanhas onde todo dinheiro é bem vindo! Você fica com tudo que conseguir arrecadar.")]),e(".w-col.w-col-6",[e(".u-text-center",[e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e39d37c013d4a3ee687d2_icon-reward.png'][width='180']")]),e(".fontsize-large.u-marginbottom-10.u-text-center.fontweight-semibold","Não precisa de recompensas"),e("p.u-text-center.fontsize-base","No flex oferecer recompensas é opcional. Você escolhe se oferecê-las faz sentido para o seu projeto e campanha.")])]),e(".w-row.u-marginbottom-40",[e(".w-col.w-col-6",[e(".u-text-center",[e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e39fb01b66e250aca67e3_icon-curad.png'][width='180']")]),e(".fontsize-large.u-marginbottom-10.u-text-center.fontweight-semibold","Você mesmo publica seu projeto"),e("p.u-text-center.fontsize-base","Todos os projetos inscritos no flex entram no ar. Agilidade e facilidade para você captar recursos através da internet.")]),e(".w-col.w-col-6",[e(".u-text-center",[e("img[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/560e39e77c013d4a3ee687d4_icon-time.png'][width='180']")]),e(".fontsize-large.u-marginbottom-10.u-text-center.fontweight-semibold","Encerre a campanha quando quiser"),e("p.u-text-center.fontsize-base","Não há limite de tempo de captação. Você escolhe  quando encerrar sua campanha e receber os valores arrecadados.")])])])]),e(".w-section.section",[e(".w-container",[e(".w-editable.fontsize-larger.u-margintop-40.u-margin-bottom-40.u-text-center","Conheça alguns dos primeiros projetos flex"),n.projectsLoader()?o.loader():e.component(t.ProjectRow,{collection:n.projects,ref:"ctrse_flex",wrapper:".w-row.u-margintop-40"})])]),e(".w-section.divider"),e(".w-section.section",[e(".w-container",[e(".fontsize-larger.u-text-center.u-marginbottom-60.u-margintop-40","Dúvidas"),e(".w-row.u-marginbottom-60",[e(".w-col.w-col-6",[e.component(t.landingQA,{question:"Quais são as taxas da modalidade flexível? ",answer:"Como no Catarse, enviar um projeto não custa nada! Estamos estudando opções para entender qual será a taxa cobrada no serviço Catarse flex."}),e.component(t.landingQA,{question:"De onde vem o dinheiro do meu projeto?",answer:"Família, amigos, fãs e membros de comunidades que você faz parte são seus maiores colaboradores. São eles que irão divulgar sua campanha para as pessoas que eles conhecem, e assim o círculo de apoiadores vai aumentando e a sua campanha ganha força."}),e.component(t.landingQA,{question:'Qual a diferença entre o flexível e o "tudo ou nada"?',answer:'Atualmente o Catarse utiliza apenas o modelo "tudo ou nada", onde você só fica com o dinheiro se bater a meta de arrecadação dentro do prazo da campanha. O modelo flexível é diferente pois permite que o realizador fique com o que arrecadar, independente de atingir ou não a meta do projeto no prazo da campanha. Não haverá limite de tempo para as campanhas. Nosso sistema flexível será algo novo em relação aos modelos que existem atualmente no mercado.'})]),e(".w-col.w-col-6",[e.component(t.landingQA,{question:"Posso inscrever projetos para a modalidade flexível já?",answer:"Por enquanto não. A modalidade flex será testada com alguns projetos específicos. Inscreva seu email e participe da conversa nessa página para receber informações, materiais, acompanhar projetos em teste e saber com antecedência a data de lançamento do flex."}),e.component(t.landingQA,{question:"Por quê vocês querem fazer o Catarse flex?",answer:"Acreditamos que o ambiente do crowdfunding brasileiro ainda tem espaço para muitas ações, testes e experimentações para entender de fato o que as pessoas precisam. Sonhamos com tornar o financiamento coletivo um hábito no Brasil. O Catarse flex é mais um passo nessa direção."}),e.component(t.landingQA,{question:"Quando vocês irão lançar o Catarse flex?",answer:"Ainda não sabemos quando abriremos o flex para o público. Iremos primeiramente passar por um período de testes e depois estabelecer uma data de lançamento. Se você deseja acompanhar e receber notícias sobre essa caminhada, inscreva seu email nessa página."})])])])]),e(".w-section.section-large.u-text-center.bg-purple",[e(".w-container.fontcolor-negative",[e(".fontsize-largest","Fique por dentro!"),e(".fontsize-base.u-marginbottom-60","Receba notícias e acompanhe a evolução do Catarse flex"),e(".w-row",[e(".w-col.w-col-2"),e.component(t.landingSignup,{builder:n.builder}),e(".w-col.w-col-2")])])]),e('.w-section.section-one-column.bg-catarse-zelo.section-large[style="min-height: 50vh;"]',[e(".w-container.u-text-center",[e(".w-editable.u-marginbottom-40.fontsize-larger.lineheight-tight.fontcolor-negative","O flex é um experimento e iniciativa do Catarse, maior plataforma de crowdfunding do Brasil."),e(".w-row.u-text-center",n.statsLoader()?o.loader():[e(".w-col.w-col-4",[e(".fontsize-jumbo.text-success.lineheight-loose",o.formatNumber(i.total_contributors,0,3)),e("p.start-stats.fontsize-base.fontcolor-negative","Pessoas ja apoiaram pelo menos 01 projeto no Catarse")]),e(".w-col.w-col-4",[e(".fontsize-jumbo.text-success.lineheight-loose",o.formatNumber(i.total_projects_success,0,3)),e("p.start-stats.fontsize-base.fontcolor-negative","Projetos ja foram financiados no Catarse")]),e(".w-col.w-col-4",[e(".fontsize-jumbo.text-success.lineheight-loose",i.total_contributed.toString().slice(0,2)+" milhões"),e("p.start-stats.fontsize-base.fontcolor-negative","Foram investidos em ideias publicadas no Catarse")])])])]),e(".w-section.section.bg-blue-one.fontcolor-negative",[e(".w-container",[e(".fontsize-large.u-text-center.u-marginbottom-20","Recomende o Catarse flex para amigos! "),e(".w-row",[e(".w-col.w-col-2"),e(".w-col.w-col-8",[e(".w-row",[e(".w-col.w-col-6.w-col-small-6.w-col-tiny-6.w-sub-col-middle",[e("div",[e("img.icon-share-mobile[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/53a3f66e05eb6144171d8edb_facebook-xxl.png']"),e('a.w-button.btn.btn-large.btn-fb[href="http://www.facebook.com/sharer/sharer.php?u=https://www.catarse.me/flex?ref=facebook&title='+encodeURIComponent("Conheça o novo Catarse Flex!")+'"][target="_blank"]',"Compartilhar")])]),e(".w-col.w-col-6.w-col-small-6.w-col-tiny-6",[e("div",[e("img.icon-share-mobile[src='https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/53a3f65105eb6144171d8eda_twitter-256.png']"),e('a.w-button.btn.btn-large.btn-tweet[href="http://twitter.com/?status='+encodeURIComponent("Vamos construir uma nova modalidade de crowdfunding para o Catarse! Junte-se a nós, inscreva seu email!")+'https://www.catarse.me/flex?ref=twitter"][target="_blank"]',"Tuitar")])])])]),e(".w-col.w-col-2")])])]),e(".w-section.section-large.bg-greenlime",[e(".w-container",[e("#participe-do-debate.u-text-center",{config:o.toAnchor()},[e("h1.fontsize-largest.fontcolor-negative","Construa o flex conosco"),e(".fontsize-base.u-marginbottom-60.fontcolor-negative","Inicie uma conversa, pergunte, comente, critique e faça sugestões!")]),e('#disqus_thread.card.u-radius[style="min-height: 50vh;"]',{config:n.addDisqus})])])]]}}}(window.m,window.c,window.c.h,window.c.models),window.c.root.Insights=function(e,t,o,n,r,i){var a=r.partial(o.i18nScope,"projects.insights");return{controller:function(s){var l=e.postgrest.filtersVM({project_id:"eq"}),c=(t.InsightsVM,e.prop([])),d=e.prop([]),u=(e.prop([]),e.postgrest.loaderWithToken);l.project_id(s.root.getAttribute("data-id"));var m=u(n.projectDetail.getRowOptions(l.parameters()));m.load().then(c);var w=u(n.projectContributionsPerDay.getRowOptions(l.parameters()));w.load().then(d);var p=[["Estado","Apoios","R$ apoiados (% do total)"]],f=function(t){return r.isEmpty(t)?[]:r.map(r.first(t).source,function(t){var n=[];return n.push(t.state_acronym||"Outro/other"),n.push(t.total_contributions),n.push([t.total_contributed,[e('input[type="hidden"][value="'+t.total_contributed+'"'),"R$ ",o.formatNumber(t.total_contributed,2,3),e("span.w-hidden-small.w-hidden-tiny"," ("+t.total_on_percentage.toFixed(2)+"%)")]]),p.push(n)})},g=u(n.projectContributionsPerLocation.getRowOptions(l.parameters()));g.load().then(f);var b=[[i.t("ref_table.header.origin",a()),i.t("ref_table.header.contributions",a()),i.t("ref_table.header.amount",a())]],h=function(t){return r.isEmpty(t)?[]:r.map(r.first(t).source,function(t){var n=/(ctrse_[a-z]*)/,r=n.exec(t.referral_link),s=[];return r&&(t.referral_link=r[0]),s.push(t.referral_link?i.t("referral."+t.referral_link,a({defaultValue:t.referral_link})):i.t("referral.others",a())),s.push(t.total),s.push([t.total_amount,[e('input[type="hidden"][value="'+t.total_contributed+'"'),"R$ ",o.formatNumber(t.total_amount,2,3),e("span.w-hidden-small.w-hidden-tiny"," ("+t.total_on_percentage.toFixed(2)+"%)")]]),b.push(s)})},_=u(n.projectContributionsPerRef.getRowOptions(l.parameters()));_.load().then(h);var v=function(e){var o={aon:t.AonAdminProjectDetailsExplanation,flex:t.FlexAdminProjectDetailsExplanation};return o[e]};return{l:m,lContributionsPerRef:_,lContributionsPerLocation:g,lContributionsPerDay:w,filtersVM:l,projectDetails:c,contributionsPerDay:d,contributionsPerLocationTable:p,contributionsPerRefTable:b,explanationModeComponent:v}},view:function(n){var s=r.first(n.projectDetails()),l=function(o){return e.component(t.Tooltip,{el:o,text:["Informa de onde vieram os apoios de seu projeto. Saiba como usar essa tabela e planejar melhor suas ações de comunicação ",e('a[href="'+i.t("ref_table.help_url",a())+"\"][target='_blank']","aqui.")],width:380})};return e(".project-insights",n.l()?o.loader():[s.is_owner_or_admin?e.component(t.ProjectDashboardMenu,{project:e.prop(s)}):"",e(".w-container",[e(".w-row.u-marginbottom-40",[e(".w-col.w-col-2"),e(".w-col.w-col-8.dashboard-header.u-text-center",[e(".fontweight-semibold.fontsize-larger.lineheight-looser.u-marginbottom-10",i.t("campaign_title",a())),e.component(t.AdminProjectDetailsCard,{resource:s}),e("p."+s.state+"-project-text.fontsize-small.lineheight-loose",["flex"===s.mode&&r.isNull(s.expires_at)?e("span",[i.t("finish_explanation",a()),e('a.alt-link[href="http://suporte.catarse.me/hc/pt-br/articles/206507863-Catarse-flex-Principais-perguntas-e-respostas-"][target="_blank"]',i.t("know_more",a()))]):e.trust(i.t("campaign."+s.mode+"."+s.state,a({username:s.user.name,expires_at:s.zone_expires_at,sent_to_analysis_at:s.sent_to_analysis_at})))])]),e(".w-col.w-col-2")])]),s.is_published?[e(".divider"),e(".w-section.section-one-column.section.bg-gray.before-footer",[e(".w-container",[e(".w-row",[e(".w-col.w-col-12.u-text-center",{style:{"min-height":"300px"}},[n.lContributionsPerDay()?o.loader():e.component(t.ProjectDataChart,{collection:n.contributionsPerDay,label:i.t("amount_per_day_label",a()),dataKey:"total_amount",xAxis:function(e){return o.momentify(e.paid_at)}})])]),e(".w-row",[e(".w-col.w-col-12.u-text-center",{style:{"min-height":"300px"}},[n.lContributionsPerDay()?o.loader():e.component(t.ProjectDataChart,{collection:n.contributionsPerDay,label:i.t("contributions_per_day_label",a()),dataKey:"total",xAxis:function(e){return o.momentify(e.paid_at)}})])]),e(".w-row",[e(".w-col.w-col-12.u-text-center",[e(".project-contributions-per-ref",[e(".fontweight-semibold.u-marginbottom-10.fontsize-large.u-text-center",[i.t("ref_origin_title",a()),o.newFeatureBadge(),l("span.fontsize-smallest.tooltip-wrapper.fa.fa-question-circle.fontcolor-secondary")]),n.lContributionsPerRef()?o.loader():e.component(t.ProjectDataTable,{table:n.contributionsPerRefTable,defaultSortIndex:-2})])])]),e(".w-row",[e(".w-col.w-col-12.u-text-center",[e(".project-contributions-per-ref",[e(".fontweight-semibold.u-marginbottom-10.fontsize-large.u-text-center",i.t("location_origin_title",a())),n.lContributionsPerLocation()?o.loader():e.component(t.ProjectDataTable,{table:n.contributionsPerLocationTable,defaultSortIndex:-2})])])]),e(".w-row",[e(".w-col.w-col-12.u-text-center",[e.component(t.ProjectReminderCount,{resource:s})])])])])]:""])}}}(window.m,window.c,window.c.h,window.c.models,window._,window.I18n),window.c.root.Jobs=function(e,t,o){var n=_.partial(o.i18nScope,"pages.jobs");return{view:function(o,r){return[e(".w-section.hero-jobs.hero-medium",[e(".w-containe.u-text-center",[e('img.icon-hero[src="/assets/logo-white.png"]'),e(".u-text-center.u-marginbottom-20.fontsize-largest",t.t("title",n()))])]),e(".w-section.section",[e(".w-container.u-margintop-40",[e(".w-row",[e(".w-col.w-col-8.w-col-push-2.u-text-center",[e(".fontsize-large.u-marginbottom-30",t.t("info",n())),e('a[href="/projects/new"].w-button.btn.btn-large.btn-inline',t.t("cta",n()))])])])])]}}}(window.m,window.I18n,window.c.h),window.c.root.LiveStatistics=function(e,t,o,n,r){return{controller:function(){var o=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=e.prop([]),a=e.prop({});return t.statistic.getRow().then(i),o.socket&&n.isFunction(o.socket.on)&&o.socket.on("new_paid_contributions",function(o){a(r.parse(o.payload)),t.statistic.getRow().then(i),e.redraw()}),{pageStatistics:i,notificationData:a}},view:function(t){var r=t.notificationData();return e(".w-section.bg-stats.section.min-height-100",[e(".w-container.u-text-center",n.map(t.pageStatistics(),function(t){return[e('img.u-marginbottom-60[src="https://daks2k3a4ib2z.cloudfront.net/54b440b85608e3f4389db387/55ada5dd11b36a52616d97df_symbol-catarse.png"]'),e(".fontcolor-negative.u-marginbottom-40",[e(".fontsize-megajumbo.fontweight-semibold","R$ "+o.formatNumber(t.total_contributed,2,3)),e(".fontsize-large","Doados para projetos publicados por aqui")]),e(".fontcolor-negative.u-marginbottom-60",[e(".fontsize-megajumbo.fontweight-semibold",t.total_contributors),e(".fontsize-large","Pessoas já apoiaram pelo menos 1 projeto no Catarse")])]})),n.isEmpty(r)?"":e(".w-container",[e("div",[e(".card.u-radius.u-marginbottom-60.medium",[e(".w-row",[e(".w-col.w-col-4",[e(".w-row",[e(".w-col.w-col-4.w-col-small-4",[e('img.thumb.u-round[src="'+o.useAvatarOrDefault(r.user_image)+'"]')]),e(".w-col.w-col-8.w-col-small-8",[e(".fontsize-large.lineheight-tight",r.user_name)])])]),e(".w-col.w-col-4.u-text-center.fontsize-base.u-margintop-20",[e("div","acabou de apoiar o")]),e(".w-col.w-col-4",[e(".w-row",[e(".w-col.w-col-4.w-col-small-4",[e('img.thumb-project.u-radius[src="'+r.project_image+'"][width="75"]')]),e(".w-col.w-col-8.w-col-small-8",[e(".fontsize-large.lineheight-tight",r.project_name)])])])])])])]),e(".u-text-center.fontsize-large.u-marginbottom-10.fontcolor-negative",[e('a.link-hidden.fontcolor-negative[href="https://github.com/catarse"][target="_blank"]',[e("span.fa.fa-github",".")," Open Source com orgulho! "])])])}}}(window.m,window.c.models,window.c.h,window._,window.JSON),window.c.root.ProjectsDashboard=function(e,t,o,n,r){return{controller:function(e){return r.project(e.project_id,e.project_user_id)},view:function(o){var n=o.projectDetails;return n().is_owner_or_admin?e.component(t.ProjectDashboardMenu,{project:n}):""}}}(window.m,window.c,window.c.h,window._,window.c.vms),window.c.root.ProjectsExplore=function(e,t,o,n,r){return{controller:function(){var r=e.postgrest.filtersVM,i=t.models.categoryFollower,a=t.vms.projectFilters(),s=e.prop([]),l=e.prop({collection:e.prop([]),isLoading:function(){return!0},isLastPage:function(){return!0}}),c=e.prop(),d=e.prop(),u=function(e){return n.find(s(),function(t){return t.id===parseInt(e)})},m=n.compose(u,d),w=function(){return t.models.category.getPageWithToken(r({}).order({name:"asc"}).parameters()).then(s)},p=function(e){return function(){return i.postWithToken({category_id:e}).then(w),!1}},f=function(e){return function(){return i.deleteWithToken(r({category_id:"eq"}).category_id(e).parameters()).then(w),!1}},g=function(){var i=window.location.hash.match(/\#([^\/]*)\/?(\d+)?/),s=i&&i[2]&&u(i[2]),m=function(){var e=r({state_order:"gte",category_id:"eq"}).state_order("published");return i&&i[1]&&a[i[1]]||s&&{title:s.name,filter:e.category_id(s.id)}},w=m()||a.recommended,p=o.paramByName("pg_search"),f=function(){var o=e.postgrest.loaderWithToken(t.models.projectSearch.postOptions({query:p})),n={collection:e.prop([]),isLoading:o,isLastPage:function(){return!0},nextPage:function(){return!1}};return o.load().then(n.collection),n},g=function(){var o=e.postgrest.paginationVM(t.models.project);return o.firstPage(w.filter.order({open_for_contributions:"desc",state_order:"asc",state:"desc",recommended:"desc",project_id:"desc"}).parameters()),o};n.isString(p)&&p.length>0&&null===i?(c("Busca "+p),l(f())):(c(w.title),l(g())),d(s&&s.id),b(i?!1:!0)},b=o.toggleProp(!1,!0);return window.addEventListener("hashchange",function(){g(),e.redraw()},!1),t.models.project.pageSize(9),w().then(g),{categories:s,followCategory:p,unFollowCategory:f,projects:l,category:m,title:c,filtersMap:a,toggleCategories:b}},view:function(r){return[e(".w-section.hero-search",[e(".w-container.u-marginbottom-10",[e(".u-text-center.u-marginbottom-40",[e('a#explore-open.link-hidden-white.fontweight-light.fontsize-larger[href="javascript:void();"]',{onclick:function(){return r.toggleCategories.toggle()}},["Explore projetos incríveis ",e("span#explore-btn.fa.fa-angle-down"+(r.toggleCategories()?".opened":""),"")])]),e("#categories.category-slider"+(r.toggleCategories()?".opened":""),[e(".w-row",[n.map(r.categories(),function(o){return e.component(t.CategoryButton,{category:o})})]),e(".w-row.u-marginbottom-30",[n.map(r.filtersMap,function(o,n){return e.component(t.FilterButton,{title:o.title,href:n})})])])])]),e(".w-section",[e(".w-container",[e(".w-row",[e(".w-col.w-col-6.w-col-small-7.w-col-tiny-7",[e(".fontsize-larger",r.title())])])])]),e(".w-section.section",[e(".w-container",[e(".w-row",[e(".w-row",n.map(r.projects().collection(),function(o){return e.component(t.ProjectCard,{project:o,ref:"ctrse_explore"})})),r.projects().isLoading()?o.loader():""])])]),e(".w-section",[e(".w-container",[e(".w-row",[e(".w-col.w-col-5"),e(".w-col.w-col-2",[r.projects().isLastPage()||r.projects().isLoading()||n.isEmpty(r.projects().collection())?"":e("a.btn.btn-medium.btn-terciary[href='#loadMore']",{onclick:function(){return r.projects().nextPage(),!1}},"Carregar mais")]),e(".w-col.w-col-5")])])])]}}}(window.m,window.c,window.c.h,window._,window.moment),window.c.root.ProjectsHome=function(e,t,o,n,r){var i=r.partial(n.i18nScope,"projects.home");return{controller:function(){var o=r.partial(r.sample,r,6),n=e.postgrest.loader,i=t.models.project,a=t.vms.projectFilters(),s=r.map(["recommended"],function(t){var s=a[t],l=n(i.getPageOptions(s.filter.parameters())),c=e.prop([]);return l.load().then(r.compose(c,o)),{title:s.title,hash:t,collection:c,loader:l}});return{collections:s}},view:function(o){return[e(".w-section.hero-full.hero-2016",[e(".w-container.u-text-center",[e(".fontsize-megajumbo.u-marginbottom-60.fontweight-semibold.fontcolor-negative",I18n.t("title",i())),e('a[href="http://2015.catarse.me/"].btn.btn-large.u-marginbottom-10.btn-inline',I18n.t("cta",i()))])]),r.map(o.collections,function(o){return e.component(t.ProjectRow,{collection:o,ref:"home_"+o.hash})})]}}}(window.m,window.c,window.moment,window.c.h,window._),window.c.root.ProjectsShow=function(e,t,o,n,r){return{controller:function(e){return r.project(e.project_id,e.project_user_id)},view:function(o){var n=o.projectDetails;return e(".project-show",[e.component(t.ProjectHeader,{project:n,userDetails:o.userDetails}),e.component(t.ProjectTabs,{project:n,rewardDetails:o.rewardDetails}),e.component(t.ProjectMain,{project:n,rewardDetails:o.rewardDetails}),n()&&n().is_owner_or_admin?e.component(t.ProjectDashboardMenu,{project:n}):""])}}}(window.m,window.c,window._,window.c.h,window.c.vms),window.c.root.Start=function(e,t,o,n,r){var i=_.partial(o.i18nScope,"pages.start");return{controller:function(){var o=e.prop([]),i=e.prop([]),a=e.prop(0),s=e.prop([]),l=e.prop([]),c=e.prop(-1),d=t.vms.start(r),u=e.postgrest.filtersVM,m=d.panes,w=u({category_id:"eq"}),p=u({project_id:"eq"}),f=u({id:"eq"}),g=e.postgrest.loader,b=g(n.statistic.getRowOptions()),h=function(){return t.models.category.getPage(u({}).order({name:"asc"}).parameters()).then(i)},v=function(e){return function(){a(e)}},y=function(){return g(n.categoryTotals.getRowOptions(w.parameters()))},x=function(){return g(n.projectDetail.getRowOptions(p.parameters()))},j=function(){return g(n.userDetail.getRowOptions(f.parameters()))},k=function(t){return function(){c(t.id),w.category_id(t.id),s([t]),e.redraw(),y().load().then(A)}},z=function(e,t){l()[t]=_.extend({},l()[t],{userThumb:_.first(e).profile_img_thumbnail})},P=function(e,t){l()[t]=_.first(e),f.id(_.first(e).user.id),j().load().then(function(e){return z(e,t)})},A=function(e){s(e);var t=_.findWhere(d.categoryProjects,{categoryId:_.first(e).category_id});l([]),_.isUndefined(t)||_.map(t.sampleProjects,function(e,t){_.isUndefined(e)||(p.project_id(e),x().load().then(function(e){return P(e,t)}))})};return b.load().then(o),h(),{stats:o,categories:i,paneImages:m,selectCategory:k,selectedCategory:s,selectedCategoryIdx:c,selectPane:v,selectedPane:a,featuredProjects:l,testimonials:d.testimonials,questions:d.questions}},view:function(n,a){var s=_.first(n.stats()),l=function(){return _.map(n.testimonials,function(t){return e(".card.u-radius.card-big.card-terciary",[e(".u-text-center.u-marginbottom-20",[e('img.thumb-testimonial.u-round.u-marginbottom-20[src="'+t.thumbUrl+'"]')]),e("p.fontsize-large.u-marginbottom-30",'"'+t.content+'"'),e(".u-text-center",[e(".fontsize-large.fontweight-semibold",t.name),e(".fontsize-base",t.totals)])])})};return[e(".w-section.hero-full.hero-start",[e(".w-container.u-text-center",[e(".fontsize-megajumbo.fontweight-semibold.u-marginbottom-40",r.t("slogan",i())),e(".w-row.u-marginbottom-40",[e(".w-col.w-col-4.w-col-push-4",[e('a.btn.btn-large.u-marginbottom-10[href="#start-form"]',{config:o.scrollTo()},r.t("submit",i()))])]),e(".w-row",_.isEmpty(s)?"":[e(".w-col.w-col-4",[e(".fontsize-largest.lineheight-loose",o.formatNumber(s.total_contributors,0,3)),e("p.fontsize-small.start-stats",r.t("header.people",i()))]),e(".w-col.w-col-4",[e(".fontsize-largest.lineheight-loose",s.total_contributed.toString().slice(0,2)+" milhões"),e("p.fontsize-small.start-stats",r.t("header.money",i()))]),e(".w-col.w-col-4",[e(".fontsize-largest.lineheight-loose",o.formatNumber(s.total_projects_success,0,3)),e("p.fontsize-small.start-stats",r.t("header.success",i()))])])])]),e(".w-section.section",[e(".w-container",[e(".w-row",[e(".w-col.w-col-10.w-col-push-1.u-text-center",[e(".fontsize-larger.u-marginbottom-10.fontweight-semibold",r.t("page-title",i())),e(".fontsize-small",r.t("page-subtitle",i()))])]),e(".w-clearfix.how-row",[e(".w-hidden-small.w-hidden-tiny.how-col-01",[e(".info-howworks-backers",[e(".fontweight-semibold.fontsize-large",r.t("banner.1",i())),e(".fontsize-base",r.t("banner.2",i()))]),e(".info-howworks-backers",[e(".fontweight-semibold.fontsize-large",r.t("banner.3",i())),e(".fontsize-base",r.t("banner.4",i()))])]),e(".how-col-02"),e(".how-col-03",[e(".fontweight-semibold.fontsize-large",r.t("banner.5",i())),e(".fontsize-base",r.t("banner.6",i())),e(".fontweight-semibold.fontsize-large.u-margintop-30",r.t("banner.7",i())),e(".fontsize-base",r.t("banner.8",i()))]),e(".w-hidden-main.w-hidden-medium.how-col-01",[e(".info-howworks-backers",[e(".fontweight-semibold.fontsize-large",r.t("banner.1",i())),e(".fontsize-base",r.t("banner.2",i()))]),e(".info-howworks-backers",[e(".fontweight-semibold.fontsize-large",r.t("banner.3",i())),e(".fontsize-base",r.t("banner.4",i()))])])])])]),e(".w-section.divider"),e(".w-section.section-large",[e(".w-container.u-text-center.u-marginbottom-60",[e("div",[e("span.fontsize-largest.fontweight-semibold",r.t("features.title",i()))]),e(".w-hidden-small.w-hidden-tiny.fontsize-large.u-marginbottom-20",r.t("features.subtitle",i())),e(".w-hidden-main.w-hidden-medium.u-margintop-30",[e(".fontsize-large.u-marginbottom-30",r.t("features.feature_1",i())),e(".fontsize-large.u-marginbottom-30",r.t("features.feature_2",i())),e(".fontsize-large.u-marginbottom-30",r.t("features.feature_3",i())),e(".fontsize-large.u-marginbottom-30",r.t("features.feature_4",i())),e(".fontsize-large.u-marginbottom-30",r.t("features.feature_5",i()))])]),e(".w-container",[e(".w-tabs.w-hidden-small.w-hidden-tiny",[e(".w-tab-menu.w-col.w-col-4",_.map(n.paneImages,function(t,o){
return e("btn.w-tab-link.w-inline-block.tab-list-item"+(o===n.selectedPane()?".selected":""),{onclick:n.selectPane(o)},t.label)})),e(".w-tab-content.w-col.w-col-8",_.map(n.paneImages,function(t,o){return e(".w-tab-pane",[e('img[src="'+t.src+'"].pane-image'+(o===n.selectedPane()?".selected":""))])}))])])]),e(".w-section.section-large.bg-blue-one",[e(".w-container.u-text-center",[e(".fontsize-larger.lineheight-tight.fontcolor-negative.u-marginbottom-20",[r.t("video.title",i()),e("br"),r.t("video.subtitle",i())]),e.component(t.YoutubeLightbox,{src:r.t("video.src",i())})])]),e(".w-hidden-small.w-hidden-tiny.section-categories",[e(".w-container",[e(".u-text-center",[e(".w-row",[e(".w-col.w-col-10.w-col-push-1",[e(".fontsize-large.u-marginbottom-40.fontcolor-negative",r.t("categories.title",i()))])])]),e(".w-tabs",[e(".w-tab-menu.u-text-center",_.map(n.categories(),function(t){return e("a.w-tab-link.w-inline-block.btn-category.small.btn-inline"+(n.selectedCategoryIdx()===t.id?".w--current":""),{onclick:n.selectCategory(t)},[e("div",t.name)])})),e(".w-tab-content.u-margintop-40",[e(".w-tab-pane.w--tab-active",[e(".w-row",-1!==n.selectedCategoryIdx()?_.map(n.selectedCategory(),function(t){return[e(".w-col.w-col-5",[e(".fontsize-jumbo.u-marginbottom-20",t.name),e('a.w-button.btn.btn-medium.btn-inline.btn-dark[href="#start-form"]',{config:o.scrollTo()},r.t("submit",i()))]),e(".w-col.w-col-7",[e(".fontsize-megajumbo.fontcolor-negative","R$ "+(t.total_successful_value?o.formatNumber(t.total_successful_value,2,3):"...")),e(".fontsize-large.u-marginbottom-20","Doados para projetos"),e(".fontsize-megajumbo.fontcolor-negative",t.successful_projects?t.successful_projects:"..."),e(".fontsize-large.u-marginbottom-30","Projetos financiados"),_.isEmpty(n.featuredProjects())?"":_.map(n.featuredProjects(),function(t){return _.isUndefined(t)?e(".fontsize-base",r.t("categories.loading_featured",i())):e(".w-row.u-marginbottom-10",[e(".w-col.w-col-1",[e('img.user-avatar[src="'+o.useAvatarOrDefault(t.userThumb)+'"]')]),e(".w-col.w-col-11",[e(".fontsize-base.fontweight-semibold",t.user.name),e(".fontsize-smallest",[r.t("categories.pledged",i({pledged:o.formatNumber(t.pledged),contributors:t.total_contributors})),e('a.link-hidden[href="/'+t.permalink+'"]',t.name)])])])})])]}):"")])])])])]),e.component(t.Slider,{slides:l(),title:r.t("testimonials_title",i())}),e(".w-section.divider.u-margintop-30"),e(".w-container",[e(".fontsize-larger.u-text-center.u-marginbottom-60.u-margintop-40",r.t("qa_title",i())),e(".w-row.u-marginbottom-60",[e(".w-col.w-col-6",_.map(n.questions.col_1,function(o){return e.component(t.landingQA,{question:o.question,answer:o.answer})})),e(".w-col.w-col-6",_.map(n.questions.col_2,function(o){return e.component(t.landingQA,{question:o.question,answer:o.answer})}))])]),e("#start-form.w-section.section-large.u-text-center.bg-purple.before-footer",[e(".w-container",[e(".fontsize-jumbo.fontcolor-negative.u-marginbottom-60","Crie o seu rascunho gratuitamente!"),e('form[action="/pt/projects"][method="POST"].w-row.w-form',[e(".w-col.w-col-2"),e(".w-col.w-col-8",[e(".fontsize-larger.fontcolor-negative.u-marginbottom-10",r.t("form.title",i())),e('input[name="utf8"][type="hidden"][value="✓"]'),e('input[name="authenticity_token"][type="hidden"][value="'+o.authenticityToken()+'"]'),e('input.w-input.text-field.medium.u-marginbottom-30[type="text"]',{name:"project[name]"}),e(".fontsize-larger.fontcolor-negative.u-marginbottom-10","na categoria"),e("select.w-select.text-field.medium.u-marginbottom-40",{name:"project[category_id]"},[e('option[value=""]',r.t("form.select_default",i())),_.map(n.categories(),function(t){return e('option[value="'+t.id+'"]',t.name)})])]),e(".w-col.w-col-2"),e(".w-row.u-marginbottom-80",[e(".w-col.w-col-4.w-col-push-4.u-margintop-40",[e('input[type="submit"][value="'+r.t("form.submit",i())+'"].w-button.btn.btn-large')])])])])])]}}}(window.m,window.c,window.c.h,window.c.models,window.I18n),window.c.root.Team=function(e,t){return{view:function(){return e("#static-team-app",[e.component(t.TeamTotal),e.component(t.TeamMembers)])}}}(window.m,window.c),window.c.root.UsersBalance=function(e,t,o,n){return{controller:function(t){var o=e.postgrest.filtersVM({user_id:"eq"});o.user_id(t.user_id);var r=function(){var r=e.prop([{amount:0,user_id:t.user_id}]),i=function(){n.balance.getRowWithToken(o.parameters()).then(r)};return{collection:r,load:i}}(),i=function(){var t=e.postgrest.paginationVM(n.balanceTransaction,"created_at.desc"),r=function(){t.firstPage(o.parameters())};return{load:r,list:t}}(),a=function(){var t=e.prop([]),r=function(){return e.postgrest.loaderWithToken(n.bankAccount.getRowOptions(o.parameters()))}(),i=function(){r.load().then(t)};return{collection:t,load:i,loader:r}}();return{bankAccountManager:a,balanceManager:r,balanceTransactionManager:i}},view:function(n,r){var i=t.extend({},r,n);return e("#balance-area",[e.component(o.UserBalance,i),e(".divider"),e.component(o.UserBalanceTransactions,i),e(".u-marginbottom-40"),e(".w-section.section.card-terciary.before-footer")])}}}(window.m,window._,window.c,window.c.models),window.c.AdminContributionDetail=function(e,t,o,n){return{controller:function(r){var i=void 0,a=function(){var a=o.models.rewardDetail,s=r.item.reward_id,l=a.getRowOptions(n.idVM.id(s).parameters()),c=e.prop({});return i=e.postgrest.loaderWithToken(l),s&&i.load().then(t.compose(c,t.first)),c},s=a();return{reward:s,actions:{transfer:{property:"user_id",updateKey:"id",callToAction:"Transferir",innerLabel:"Id do novo apoiador:",outerLabel:"Transferir Apoio",placeholder:"ex: 129908",successMessage:"Apoio transferido com sucesso!",errorMessage:"O apoio não foi transferido!",model:o.models.contributionDetail},reward:{getKey:"project_id",updateKey:"contribution_id",selectKey:"reward_id",radios:"rewards",callToAction:"Alterar Recompensa",outerLabel:"Recompensa",getModel:o.models.rewardDetail,updateModel:o.models.contributionDetail,selectedItem:s,validate:function(e,o){var n=t.findWhere(e,{id:o});return r.item.value>=n.minimum_value?void 0:"Valor mínimo da recompensa é maior do que o valor da contribuição."}},refund:{updateKey:"id",callToAction:"Reembolso direto",innerLabel:"Tem certeza que deseja reembolsar esse apoio?",outerLabel:"Reembolsar Apoio",model:o.models.contributionDetail},remove:{property:"state",updateKey:"id",callToAction:"Apagar",innerLabel:"Tem certeza que deseja apagar esse apoio?",outerLabel:"Apagar Apoio",forceValue:"deleted",successMessage:"Apoio removido com sucesso!",errorMessage:"O apoio não foi removido!",model:o.models.contributionDetail}},l:i}},view:function(r,i){var a=r.actions,s=i.item,l=r.reward,c=function(e,o){return t.extend({},e,{requestOptions:{url:"/admin/contributions/"+o+"/gateway_refund",method:"PUT"}})};return e("#admin-contribution-detail-box",[e(".divider.u-margintop-20.u-marginbottom-20"),e(".w-row.u-marginbottom-30",[e.component(o.AdminInputAction,{data:a.transfer,item:s}),r.l()?n.loader:e.component(o.AdminRadioAction,{data:a.reward,item:l,getKeyValue:s.project_id,updateKeyValue:s.contribution_id}),e.component(o.AdminExternalAction,{data:c(a.refund,s.id),item:s}),e.component(o.AdminInputAction,{data:a.remove,item:s})]),e(".w-row.card.card-terciary.u-radius",[e.component(o.AdminTransaction,{contribution:s}),e.component(o.AdminTransactionHistory,{contribution:s}),r.l()?n.loader:e.component(o.AdminReward,{reward:l,key:s.key})])])}}}(window.m,window._,window.c,window.c.h),window.c.AdminContributionItem=function(e,t,o){return{controller:function(){return{itemBuilder:[{component:"AdminContributionUser",wrapperClass:".w-col.w-col-4"},{component:"AdminProject",wrapperClass:".w-col.w-col-4"},{component:"AdminContribution",wrapperClass:".w-col.w-col-2"},{component:"PaymentStatus",wrapperClass:".w-col.w-col-2"}]}},view:function(o,n){return e(".w-row",_.map(o.itemBuilder,function(o){return e(o.wrapperClass,[e.component(t[o.component],{item:n.item,key:n.key})])}))}}}(window.m,window.c,window.c.h),window.c.AdminContributionUser=function(e){return{view:function(t,o){var n=o.item,r={profile_img_thumbnail:n.user_profile_img,id:n.user_id,name:n.user_name,email:n.email},i=e(".fontsize-smallest.fontcolor-secondary","Gateway: "+n.payer_email);return e.component(c.AdminUser,{item:r,additional_data:i})}}}(window.m),window.c.AdminContribution=function(e,t){return{view:function(o,n){var r=n.item;return e(".w-row.admin-contribution",[e(".fontweight-semibold.lineheight-tighter.u-marginbottom-10.fontsize-small","R$"+r.value),e(".fontsize-smallest.fontcolor-secondary",t.momentify(r.created_at,"DD/MM/YYYY HH:mm[h]")),e(".fontsize-smallest",["ID do Gateway: ",e('a.alt-link[target="_blank"][href="https://dashboard.pagar.me/#/transactions/'+r.gateway_id+'"]',r.gateway_id)])])}}}(window.m,window.c.h),window.c.AdminExternalAction=function(e,t,o,n){return{controller:function(o){var r=o.data,i=e.prop(!1),a=e.prop(!1),s=(e.prop(!1),o.item);r.requestOptions.config=function(e){t.authenticityToken()&&e.setRequestHeader("X-CSRF-Token",t.authenticityToken())};var l=n.compose(r.model.getRowWithToken,t.idVM.id(s[r.updateKey]).parameters),c=e.prop(!1),d=function(e){l().then(m)},u=function(e){c(!1),i(!0),a(!0)},m=function(e){n.extend(s,e[0]),i(!0),a(!1)},w=function(){return c(!0),e.request(r.requestOptions).then(d,u),!1},p=function(e,t,o){o.onunload=function(){i(!1),a(!1)}};return{complete:i,error:a,l:c,submit:w,toggler:t.toggleProp(!1,!0),unload:p}},view:function(t,o){var n=o.data,r=t.l()?"por favor, aguarde...":n.callToAction;return e(".w-col.w-col-2",[e("button.btn.btn-small.btn-terciary",{onclick:t.toggler.toggle},n.outerLabel),t.toggler()?e(".dropdown-list.card.u-radius.dropdown-list-medium.zindex-10",{config:t.unload},[e("form.w-form",{onsubmit:t.submit},t.complete()?t.error()?[e('.w-form-error[style="display:block;"]',[e("p","Houve um problema na requisição.")])]:[e('.w-form-done[style="display:block;"]',[e("p","Requisição feita com sucesso.")])]:[e("label",n.innerLabel),e('input.w-button.btn.btn-small[type="submit"][value="'+r+'"]')])]):""])}}}(window.m,window.c.h,window.c,window._),window.c.AdminFilter=function(e,t,o,n){return{controller:function(){return{toggler:n.toggleProp(!1,!0)}},view:function(n,r){var i=r.filterBuilder,a=(r.data,r.label||""),s=o.findWhere(i,{component:"FilterMain"});return t("#admin-contributions-filter.w-section.page-header",[t(".w-container",[t(".fontsize-larger.u-text-center.u-marginbottom-30",a),t(".w-form",[t("form",{onsubmit:r.submit},[o.findWhere(i,{component:"FilterMain"})?t.component(e[s.component],s.data):"",t(".u-marginbottom-20.w-row",t('button.w-col.w-col-12.fontsize-smallest.link-hidden-light[style="background: none; border: none; outline: none; text-align: left;"][type="button"]',{onclick:n.toggler.toggle},"Filtros avançados  >")),n.toggler()?t("#advanced-search.w-row.admin-filters",[o.map(i,function(o){return"FilterMain"!==o.component?t.component(e[o.component],o.data):""})]):""])])])])}}}(window.c,window.m,window._,window.c.h),window.c.AdminInputAction=function(e,t,o){return{controller:function(o){var n=o.data,r=e.prop(!1),i=e.prop(!1),a=(e.prop(!1),{}),s=o.item,l=n.property,c=n.forceValue||null,d=e.prop(c);t.idVM.id(s[n.updateKey]);var u=e.postgrest.loaderWithToken(n.model.patchOptions(t.idVM.parameters(),a)),m=function(e){_.extend(s,e[0]),r(!0),i(!1)},w=function(){return a[l]=d(),u.load().then(m,function(){r(!0),i(!0)}),!1},p=function(e,t,o){o.onunload=function(){r(!1),i(!1),d(c)}};return{complete:r,error:i,l:u,newValue:d,submit:w,toggler:t.toggleProp(!1,!0),unload:p}},view:function(t,o){var n=o.data,r=t.l()?"por favor, aguarde...":n.callToAction;return e(".w-col.w-col-2",[e("button.btn.btn-small.btn-terciary",{onclick:t.toggler.toggle},n.outerLabel),t.toggler()?e(".dropdown-list.card.u-radius.dropdown-list-medium.zindex-10",{config:t.unload},[e("form.w-form",{onsubmit:t.submit},t.complete()?t.error()?[e('.w-form-error[style="display:block;"]',[e("p","Houve um problema na requisição. "+n.errorMessage)])]:[e('.w-form-done[style="display:block;"]',[e("p",n.successMessage)])]:[e("label",n.innerLabel),void 0===n.forceValue?e('input.w-input.text-field[type="text"][placeholder="'+n.placeholder+'"]',{onchange:e.withAttr("value",t.newValue),value:t.newValue()}):"",e('input.w-button.btn.btn-small[type="submit"][value="'+r+'"]')])]):""])}}}(window.m,window.c.h,window.c),window.c.AdminItem=function(e,t,o,n){return{controller:function(e){var t=o.toggleProp(!1,!0);return{displayDetailBox:t}},view:function(t,o){var n=o.item;return e(".w-clearfix.card.u-radius.u-marginbottom-20.results-admin-items",[e.component(o.listItem,{item:n,key:o.key}),e("button.w-inline-block.arrow-admin.fa.fa-chevron-down.fontcolor-secondary",{onclick:t.displayDetailBox.toggle}),t.displayDetailBox()?e.component(o.listDetail,{item:n,key:o.key}):""])}}}(window.m,window._,window.c.h,window.c),window.c.AdminList=function(e,t,o){o.admin;return{controller:function(e){var t=e.vm.list;!t.collection().length&&t.firstPage&&t.firstPage().then(null,function(t){e.vm.error(t.message)})},view:function(n,r){var i=r.vm.list,a=r.vm.error,s=r.label||"";return e(".w-section.section",[e(".w-container",a()?e(".card.card-error.u-radius.fontweight-bold",a()):[e(".w-row.u-marginbottom-20",[e(".w-col.w-col-9",[e(".fontsize-base",i.isLoading()?"Carregando "+s.toLowerCase()+"...":[e("span.fontweight-semibold",i.total())," "+s.toLowerCase()+" encontrados"])])]),e("#admin-contributions-list.w-container",[i.collection().map(function(t){return e.component(o.AdminItem,{listItem:r.listItem,listDetail:r.listDetail,item:t,key:t.id})}),e(".w-section.section",[e(".w-container",[e(".w-row",[e(".w-col.w-col-2.w-col-push-5",[i.isLoading()?t.loader():e("button#load-more.btn.btn-medium.btn-terciary",{onclick:i.nextPage},"Carregar mais")])])])])])])])}}}(window.m,window.c.h,window.c),window.c.AdminNotificationHistory=function(e,t,o,n){return{controller:function(t){var o=e.prop([]),r=function(t){var r=n.notification;r.getPageWithToken(e.postgrest.filtersVM({user_id:"eq",sent_at:"is.null"}).user_id(t.id).sent_at(!0).order({sent_at:"desc"}).parameters()).then(o)};return r(t.user),{notifications:o}},view:function(o){return e(".w-col.w-col-4",[e(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-20","Histórico de notificações"),o.notifications().map(function(o){return e(".w-row.fontsize-smallest.lineheight-looser.date-event",[e(".w-col.w-col-24",[e(".fontcolor-secondary",t.momentify(o.sent_at,"DD/MM/YYYY, HH:mm")," - ",o.template_name,o.origin?" - "+o.origin:"")])])})])}}}(window.m,window.c.h,window._,window.c.models),window.c.AdminProjectDetailsCard=function(e,t,o){return{controller:function(n){var r=n.resource,i=function(){var t=e.prop({}),o={online:{cssClass:"text-success",text:"NO AR"},successful:{cssClass:"text-success",text:"FINANCIADO"},failed:{cssClass:"text-error",text:"NÃO FINANCIADO"},waiting_funds:{cssClass:"text-waiting",text:"AGUARDANDO"},rejected:{cssClass:"text-error",text:"RECUSADO"},draft:{cssClass:"",text:"RASCUNHO"},in_analysis:{cssClass:"",text:"EM ANÁLISE"},approved:{cssClass:"text-success",text:"APROVADO"}};return t(o[r.state]),t},a=function(){return!_.isNull(r.expires_at)&&o().add(8,"days")>=o(r.zone_expires_at)};return{project:r,statusTextObj:i(),remainingTextObj:t.translatedTime(r.remaining_time),elapsedTextObj:t.translatedTime(r.elapsed_time),isFinalLap:a}},view:function(o){var n=o.project,r=n.progress.toFixed(2),i=o.statusTextObj(),a=o.remainingTextObj,s=o.elapsedTextObj;return e(".project-details-card.card.u-radius.card-terciary.u-marginbottom-20",[e("div",[e(".fontsize-small.fontweight-semibold",[e("span.fontcolor-secondary","Status:")," ",e("span",{"class":i.cssClass},o.isFinalLap()&&n.open_for_contributions?"RETA FINAL":i.text)," "]),function(){return n.is_published?[e(".meter.u-margintop-20.u-marginbottom-10",[e(".meter-fill",{style:{width:(r>100?100:r)+"%"}})]),e(".w-row",[e(".w-col.w-col-3.w-col-small-3.w-col-tiny-6",[e(".fontcolor-secondary.lineheight-tighter.fontsize-small","financiado"),e(".fontweight-semibold.fontsize-large.lineheight-tight",r+"%")]),e(".w-col.w-col-3.w-col-small-3.w-col-tiny-6",[e(".fontcolor-secondary.lineheight-tighter.fontsize-small","levantados"),e(".fontweight-semibold.fontsize-large.lineheight-tight",["R$ "+t.formatNumber(n.pledged,2)])]),e(".w-col.w-col-3.w-col-small-3.w-col-tiny-6",[e(".fontcolor-secondary.lineheight-tighter.fontsize-small","apoios"),e(".fontweight-semibold.fontsize-large.lineheight-tight",n.total_contributions)]),e(".w-col.w-col-3.w-col-small-3.w-col-tiny-6",[_.isNull(n.expires_at)?[e(".fontcolor-secondary.lineheight-tighter.fontsize-small","iniciado há"),e(".fontweight-semibold.fontsize-large.lineheight-tight",s.total+" "+s.unit)]:[e(".fontcolor-secondary.lineheight-tighter.fontsize-small","restam"),e(".fontweight-semibold.fontsize-large.lineheight-tight",a.total+" "+a.unit)]])])]:[]}()])])}}}(window.m,window.c.h,window.moment),window.c.AdminProject=function(e,t){return{view:function(o,n){var r=n.item;return e(".w-row.admin-project",[e(".w-col.w-col-3.w-col-small-3.u-marginbottom-10",[e("img.thumb-project.u-radius[src="+r.project_img+"][width=50]")]),e(".w-col.w-col-9.w-col-small-9",[e(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-10",[e('a.alt-link[target="_blank"][href="/'+r.permalink+'"]',r.project_name)]),e(".fontsize-smallest.fontweight-semibold",r.project_state),e(".fontsize-smallest.fontcolor-secondary",t.momentify(r.project_online_date)+" a "+t.momentify(r.project_expires_at))])])}}}(window.m,window.c.h),window.c.AdminRadioAction=function(e,t,o,n){return{controller:function(o){var r=o.data,i=e.prop(!1),a={},s=e.prop(!1),l=(e.prop(!1),o.item()),c=e.prop(l.description||""),d=(r.getKey,e.prop("")),u={},m={},w=e.prop(),p=(r.radios,r.getKey),f=o.getKeyValue,g=r.updateKey,b=o.updateKeyValue,h=r.validate,_=r.selectedItem||e.prop();m[g]="eq";var v=e.postgrest.filtersVM(m);v[g](b),u[p]="eq";var y=e.postgrest.filtersVM(u);y[p](f);var x=e.postgrest.loaderWithToken(r.getModel.getPageOptions(y.parameters())),j=e.postgrest.loaderWithToken(r.updateModel.patchOptions(v.parameters(),a)),k=function(e){if(e.length>0){var t=n.findWhere(w(),{id:e[0][r.selectKey]});_(t)}else s({message:"Nenhum item atualizado"});i(!0)},z=function(){x.load().then(w,s)},P=function(){if(d()){var e=h(w(),d());n.isUndefined(e)?(a[r.selectKey]=d(),j.load().then(k,s)):(i(!0),s({message:e}))}return!1},A=function(e,t,o){o.onunload=function(){i(!1),s(!1),d("")}},C=function(t){c(t),e.redraw()};return z(),{complete:i,description:c,setDescription:C,error:s,setLoader:j,getLoader:x,newID:d,submit:P,toggler:t.toggleProp(!1,!0),unload:A,radios:w}},view:function(o,r){var i=r.data,a=r.item(),s=o.setLoader()||o.getLoader()?"por favor, aguarde...":i.callToAction;return e(".w-col.w-col-2",[e("button.btn.btn-small.btn-terciary",{onclick:o.toggler.toggle},i.outerLabel),o.toggler()?e(".dropdown-list.card.u-radius.dropdown-list-medium.zindex-10",{config:o.unload},[e("form.w-form",{onsubmit:o.submit},o.complete()?o.error()?[e('.w-form-error[style="display:block;"]',[e("p",o.error().message)])]:[e('.w-form-done[style="display:block;"]',[e("p","Recompensa alterada com sucesso!")])]:[o.radios()?n.map(o.radios(),function(t,n){var r=function(){o.newID(t.id),o.setDescription(t.description)},s=t.id===(a[i.selectKey]||a.id)?!0:!1;return e(".w-radio",[e("input#r-"+n+'.w-radio-input[type=radio][name="admin-radio"][value="'+t.id+'"]'+(s?"[checked]":""),{onclick:r}),e('label.w-form-label[for="r-'+n+'"]',"R$"+t.minimum_value)])}):t.loader(),e("strong","Descrição"),e("p",o.description()),e('input.w-button.btn.btn-small[type="submit"][value="'+s+'"]')])]):""])}}}(window.m,window.c.h,window.c,window._),window.c.AdminResetPassword=function(e,t,o,n){return{controller:function(o){var r=o.data,i=e.prop(!1),a=e.prop(!1),s=(e.prop(!1),r.property),l={},c=o.item;r.requestOptions.config=function(e){t.authenticityToken()&&e.setRequestHeader("X-CSRF-Token",t.authenticityToken())};var d=e.postgrest.loader(n.extend({},{data:l},r.requestOptions)),u=e.prop(""),m=e.prop(""),w=function(e){m(e.errors[0]),i(!0),a(!0)},p=function(e){n.extend(c,e[0]),i(!0),a(!1)},f=function(){return l[s]=u(),d.load().then(p,w),!1},g=function(e,t,o){o.onunload=function(){i(!1),a(!1)}};return{complete:i,error:a,error_message:m,l:d,newPassword:u,submit:f,toggler:t.toggleProp(!1,!0),unload:g}},view:function(t,o){var n=o.data,r=t.l()?"por favor, aguarde...":n.callToAction;return e(".w-col.w-col-2",[e("button.btn.btn-small.btn-terciary",{onclick:t.toggler.toggle},n.outerLabel),t.toggler()?e(".dropdown-list.card.u-radius.dropdown-list-medium.zindex-10",{config:t.unload},[e("form.w-form",{onsubmit:t.submit},t.complete()?t.error()?[e('.w-form-error[style="display:block;"]',[e("p",t.error_message())])]:[e('.w-form-done[style="display:block;"]',[e("p","Senha alterada com sucesso.")])]:[e("label",n.innerLabel),e('input.w-input.text-field[type="text"][name="'+n.property+'"][placeholder="'+n.placeholder+'"]',{onchange:e.withAttr("value",t.newPassword),value:t.newPassword()}),e('input.w-button.btn.btn-small[type="submit"][value="'+r+'"]')])]):""])}}}(window.m,window.c.h,window.c,window._),window.c.AdminReward=function(e,t,o,n){return{view:function(t,n){var r=n.reward(),i=parseInt(r.paid_count)+parseInt(r.waiting_payment_count);return e(".w-col.w-col-4",[e(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-20","Recompensa"),e(".fontsize-smallest.lineheight-looser",r.id?["ID: "+r.id,e("br"),"Valor mínimo: R$"+o.formatNumber(r.minimum_value,2,3),e("br"),e.trust("Disponíveis: "+i+" / "+(r.maximum_contributions||"&infin;")),e("br"),"Aguardando confirmação: "+r.waiting_payment_count,e("br"),"Descrição: "+r.description]:"Apoio sem recompensa")])}}}(window.m,window.c,window.c.h,window._),window.c.AdminTransactionHistory=function(e,t,o){return{controller:function(e){var n=e.contribution,r=o.reduce([{date:n.paid_at,name:"Apoio confirmado"},{date:n.pending_refund_at,name:"Reembolso solicitado"},{date:n.refunded_at,name:"Estorno realizado"},{date:n.created_at,name:"Apoio criado"},{date:n.refused_at,name:"Apoio cancelado"},{date:n.deleted_at,name:"Apoio excluído"},{date:n.chargeback_at,name:"Chargeback"}],function(e,o){return null!==o.date&&void 0!==o.date?(o.originalDate=o.date,o.date=t.momentify(o.date,"DD/MM/YYYY, HH:mm"),e.concat(o)):e},[]);return{orderedEvents:o.sortBy(r,"originalDate")}},view:function(t){return e(".w-col.w-col-4",[e(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-20","Histórico da transação"),t.orderedEvents.map(function(t){return e(".w-row.fontsize-smallest.lineheight-looser.date-event",[e(".w-col.w-col-6",[e(".fontcolor-secondary",t.date)]),e(".w-col.w-col-6",[e("div",t.name)])])})])}}}(window.m,window.c.h,window._),window.c.AdminTransaction=function(e,t){return{view:function(o,n){var r=n.contribution;return e(".w-col.w-col-4",[e(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-20","Detalhes do apoio"),e(".fontsize-smallest.lineheight-looser",["Valor: R$"+t.formatNumber(r.value,2,3),e("br"),"Taxa: R$"+t.formatNumber(r.gateway_fee,2,3),e("br"),"Aguardando Confirmação: "+(r.waiting_payment?"Sim":"Não"),e("br"),"Anônimo: "+(r.anonymous?"Sim":"Não"),e("br"),"Id pagamento: "+r.gateway_id,e("br"),"Apoio: "+r.contribution_id,e("br"),"Chave: \n",e("br"),r.key,e("br"),"Meio: "+r.gateway,e("br"),"Operadora: "+(r.gateway_data&&r.gateway_data.acquirer_name),e("br"),function(){return r.is_second_slip?[e('a.link-hidden[href="#"]',"Boleto bancário")," ",e("span.badge","2a via")]:void 0}()])])}}}(window.m,window.c.h),window.c.AdminUserDetail=function(e,t,o){return{controller:function(){return{actions:{reset:{property:"password",callToAction:"Redefinir",innerLabel:"Nova senha de Usuário:",outerLabel:"Redefinir senha",placeholder:"ex: 123mud@r",model:o.models.user},reactivate:{property:"deactivated_at",updateKey:"id",callToAction:"Reativar",innerLabel:"Tem certeza que deseja reativar esse usuário?",successMessage:"Usuário reativado com sucesso!",errorMessage:"O usuário não pôde ser reativado!",outerLabel:"Reativar usuário",forceValue:null,model:o.models.user}}}},view:function(n,r){var i=n.actions,a=r.item,s=(r.details,function(e,o){return t.extend({},e,{requestOptions:{url:"/users/"+o+"/new_password",method:"POST"}})});return e("#admin-contribution-detail-box",[e(".divider.u-margintop-20.u-marginbottom-20"),e(".w-row.u-marginbottom-30",[e.component(o.AdminResetPassword,{data:s(i.reset,a.id),item:a}),a.deactivated_at?e.component(o.AdminInputAction,{data:i.reactivate,item:a}):""]),e(".w-row.card.card-terciary.u-radius",[e.component(o.AdminNotificationHistory,{user:a})])])}}}(window.m,window._,window.c),window.c.AdminUserItem=function(e,t,o){return{view:function(o,n){return e(".w-row",[e(".w-col.w-col-4",[e.component(t.AdminUser,n)])])}}}(window.m,window.c,window.c.h),window.c.AdminUser=function(e,t){return{view:function(o,n){var r=n.item;return e(".w-row.admin-user",[e(".w-col.w-col-3.w-col-small-3.u-marginbottom-10",[e('img.user-avatar[src="'+t.useAvatarOrDefault(r.profile_img_thumbnail)+'"]')]),e(".w-col.w-col-9.w-col-small-9",[e(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-10",[e('a.alt-link[target="_blank"][href="/users/'+r.id+'/edit"]',r.name||r.email)]),e(".fontsize-smallest","Usuário: "+r.id),e(".fontsize-smallest.fontcolor-secondary","Email: "+r.email),n.additional_data])])}}}(window.m,window.c.h),window.c.CategoryButton=function(e,t){return{view:function(t,o){var n=o.category;return e(".w-col.w-col-2.w-col-small-6.w-col-tiny-6",[e("a.w-inline-block.btn-category"+(n.name.length>13?".double-line":"")+"[href='#by_category_id/"+n.id+"']",[e("div",[n.name,e("span.badge.explore",n.online_projects)])])])}}}(window.m,window.c),window.c.Dropdown=function(e,t,o){return{view:function(t,n){return e("select"+n.classes+'[id="'+n.id+'"]',{onchange:e.withAttr("value",n.valueProp),value:n.valueProp()},o.map(n.options,function(t){return e('option[value="'+t.value+'"]',t.option)}))}}}(window.m,window.c.h,window._),window.c.FilterButton=function(e,t){return{view:function(t,o){var n=o.title,r=o.href;return e(".w-col.w-col-2.w-col-small-6.w-col-tiny-6",[e("a.w-inline-block.btn-category.filters"+(n.length>13?".double-line":"")+"[href='#"+r+"']",[e("div",[n])])])}}}(window.m,window.c),window.c.FilterDateRange=function(e){return{view:function(t,o){return e(".w-col.w-col-3.w-col-small-6",[e('label.fontsize-smaller[for="'+o.index+'"]',o.label),e(".w-row",[e(".w-col.w-col-5.w-col-small-5.w-col-tiny-5",[e('input.w-input.text-field.positive[id="'+o.index+'"][type="text"]',{onchange:e.withAttr("value",o.first),value:o.first()})]),e(".w-col.w-col-2.w-col-small-2.w-col-tiny-2",[e(".fontsize-smaller.u-text-center.lineheight-looser","e")]),e(".w-col.w-col-5.w-col-small-5.w-col-tiny-5",[e('input.w-input.text-field.positive[type="text"]',{onchange:e.withAttr("value",o.last),value:o.last()})])])])}}}(window.m),window.c.FilterDropdown=function(e,t,o){return{view:function(o,n){return e(".w-col.w-col-3.w-col-small-6",[e('label.fontsize-smaller[for="'+n.index+'"]',n.label),e.component(t.Dropdown,{id:n.index,classes:".w-select.text-field.positive",valueProp:n.vm,options:n.options})])}}}(window.m,window.c,window._),window.c.FilterMain=function(e){return{view:function(t,o){return e(".w-row",[e(".w-col.w-col-10",[e('input.w-input.text-field.positive.medium[placeholder="'+o.placeholder+'"][type="text"]',{onchange:e.withAttr("value",o.vm),value:o.vm()})]),e(".w-col.w-col-2",[e('input#filter-btn.btn.btn-large.u-marginbottom-10[type="submit"][value="Buscar"]')])])}}}(window.m),window.c.FilterNumberRange=function(e){return{view:function(t,o){return e(".w-col.w-col-3.w-col-small-6",[e('label.fontsize-smaller[for="'+o.index+'"]',o.label),e(".w-row",[e(".w-col.w-col-5.w-col-small-5.w-col-tiny-5",[e('input.w-input.text-field.positive[id="'+o.index+'"][type="text"]',{onchange:e.withAttr("value",o.first),value:o.first()})]),e(".w-col.w-col-2.w-col-small-2.w-col-tiny-2",[e(".fontsize-smaller.u-text-center.lineheight-looser","e")]),e(".w-col.w-col-5.w-col-small-5.w-col-tiny-5",[e('input.w-input.text-field.positive[type="text"]',{onchange:e.withAttr("value",o.last),value:o.last()})])])])}}}(window.m),window.c.landingQA=function(e,t){return{controller:function(e){return{showAnswer:t.toggleProp(!1,!0)}},view:function(t,o){return e(".card.qa-card.u-marginbottom-20.u-radius.btn-terciary",[e(".fontsize-base",{onclick:t.showAnswer.toggle},o.question),t.showAnswer()?e("p.u-margintop-20.fontsize-small",e.trust(o.answer)):""])}}}(window.m,window.c.h),window.c.landingSignup=function(e,t){return{controller:function(o){var n=(o.builder,e.prop("")),r=e.prop(!1),i=function(){return t.validateEmail(n())?!0:(r(!0),!1)};return{email:n,submit:i,error:r}},view:function(t,o){var n=t.error?"":".positive.error";return e('form.w-form[id="email-form"][method="post"][action="'+o.builder.customAction+'"]',{onsubmit:t.submit},[e(".w-col.w-col-5",[e("input"+n+'.w-input.text-field.medium[name="EMAIL"][placeholder="Digite seu email"][type="text"]',{onchange:e.withAttr("value",t.email),value:t.email()}),t.error()?e("span.fontsize-smaller.text-error","E-mail inválido"):""]),e(".w-col.w-col-3",[e('input.w-button.btn.btn-large[type="submit"][value="Cadastrar"]')])])}}}(window.m,window.c.h),window.c.ModalBox=function(e,t,o){return{view:function(o,n){return e(".modal-backdrop",[e(".modal-dialog-outer",[e(".modal-dialog-inner.modal-dialog-small",[e('a.w-inline-block.modal-close.fa.fa-close.fa-lg[href="js:void(0);"]',{onclick:n.displayModal.toggle}),e.component(t[n.content[0]],n.content[1])])])])}}}(window.m,window.c,window._),window.c.PaymentStatus=function(e){return{controller:function(t){var o,n,r,i=t.item,a=null;return a=function(){if(i.gateway_data)switch(i.gateway.toLowerCase()){case"moip":return{first_digits:i.gateway_data.cartao_bin,last_digits:i.gateway_data.cartao_final,brand:i.gateway_data.cartao_bandeira};case"pagarme":return{first_digits:i.gateway_data.card_first_digits,last_digits:i.gateway_data.card_last_digits,brand:i.gateway_data.card_brand}}},o=function(){switch(i.payment_method.toLowerCase()){case"boletobancario":return e("span#boleto-detail","");case"cartaodecredito":var t=a();return t?e("#creditcard-detail.fontsize-smallest.fontcolor-secondary.lineheight-tight",[t.first_digits+"******"+t.last_digits,e("br"),t.brand+" "+i.installments+"x"]):""}},n=function(){switch(i.payment_method.toLowerCase()){case"boletobancario":return".fa-barcode";case"cartaodecredito":return".fa-credit-card";default:return".fa-question"}},r=function(){switch(i.state){case"paid":return".text-success";case"refunded":return".text-refunded";case"pending":case"pending_refund":return".text-waiting";default:return".text-error"}},{displayPaymentMethod:o,paymentMethodClass:n,stateClass:r}},view:function(t,o){var n=o.item;return e(".w-row.payment-status",[e(".fontsize-smallest.lineheight-looser.fontweight-semibold",[e("span.fa.fa-circle"+t.stateClass())," "+n.state]),e(".fontsize-smallest.fontweight-semibold",[e("span.fa"+t.paymentMethodClass())," ",e('a.link-hidden[href="#"]',n.payment_method)]),e(".fontsize-smallest.fontcolor-secondary.lineheight-tight",[t.displayPaymentMethod()])])}}}(window.m),window.c.PopNotification=function(e,t){return{controller:function(){var e=t.toggleProp(!0,!1);return{displayNotification:e}},view:function(t,o){return t.displayNotification()?e(".flash.w-clearfix.card.card-notification.u-radius.zindex-20",[e('img.icon-close[src="/assets/catarse_bootstrap/x.png"][width="12"][alt="fechar"]',{onclick:t.displayNotification.toggle}),e(".fontsize-small",o.message)]):e("span")}}}(window.m,window.c.h),window.c.ProjectAbout=function(e,t,o){return{view:function(n,r){var i=r.project()||{},a=function(){var e=moment(i.zone_online_date).diff(moment(i.zone_expires_at)),t=moment.duration(e);return-Math.ceil(t.asDays())},s=function(){return i.is_published&&o.existy(i.zone_expires_at)?e(".funding-period",[e(".fontsize-small.fontweight-semibold.u-text-center-small-only","Período de campanha"),e(".fontsize-small.u-text-center-small-only",o.momentify(i.zone_online_date)+" - "+o.momentify(i.zone_expires_at)+" ("+a()+" dias)")]):"";
};return e("#project-about",[e(".project-about.w-col.w-col-8",{config:o.UIHelper()},[e("p.fontsize-base",[e("strong","O projeto")]),e('.fontsize-base[itemprop="about"]',e.trust(o.selfOrEmpty(i.about_html,"..."))),i.budget?[e("p.fontsize-base.fontweight-semibold","Orçamento"),e("p.fontsize-base",e.trust(i.budget))]:""]),e(".w-col.w-col-4.w-hidden-small.w-hidden-tiny",_.isEmpty(r.rewardDetails())?[e(".fontsize-base.fontweight-semibold.u-marginbottom-30","Sugestões de apoio"),e.component(t.ProjectSuggestedContributions,{project:i}),s()]:[e(".fontsize-base.fontweight-semibold.u-marginbottom-30","Recompensas"),e.component(t.ProjectRewardList,{project:i,rewardDetails:r.rewardDetails}),s()])])}}}(window.m,window.c,window.c.h),window.c.ProjectCard=function(e,t,o,n){var r=_.partial(t.i18nScope,"projects.card");return{view:function(o,i){var a=i.project,s=a.progress.toFixed(2),l=t.translatedTime(a.remaining_time),c="/"+a.permalink+(i.ref?"?ref="+i.ref:"");return e(".w-col.w-col-4",[e(".card-project.card.u-radius",[e('a.card-project-thumb[href="'+c+'"]',{style:{"background-image":"url("+a.project_img+")",display:"block"}}),e(".card-project-description.alt",[e(".fontweight-semibold.u-text-center-small-only.lineheight-tight.u-marginbottom-10.fontsize-base",[e('a.link-hidden[href="'+c+'"]',a.project_name)]),e(".w-hidden-small.w-hidden-tiny.fontsize-smallest.fontcolor-secondary.u-marginbottom-20",n.t("by",r())+" "+a.owner_name),e(".w-hidden-small.w-hidden-tiny.fontcolor-secondary.fontsize-smaller",[e('a.link-hidden[href="'+c+'"]',a.headline)])]),e(".w-hidden-small.w-hidden-tiny.card-project-author.altt",[e(".fontsize-smallest.fontcolor-secondary",[e("span.fa.fa-map-marker.fa-1"," ")," "+(a.city_name?a.city_name:"")+", "+(a.state_acronym?a.state_acronym:"")])]),e(".card-project-meter."+a.state,[_.contains(["successful","failed","waiting_funds"],a.state)?e("div",n.t("display_status."+a.state,r())):e(".meter",[e(".meter-fill",{style:{width:(s>100?100:s)+"%"}})])]),e(".card-project-stats",[e(".w-row",[e(".w-col.w-col-4.w-col-small-4.w-col-tiny-4",[e(".fontsize-base.fontweight-semibold",Math.ceil(a.progress)+"%")]),e(".w-col.w-col-4.w-col-small-4.w-col-tiny-4.u-text-center-small-only",[e(".fontsize-smaller.fontweight-semibold","R$ "+t.formatNumber(a.pledged)),e(".fontsize-smallest.lineheight-tightest","Levantados")]),e(".w-col.w-col-4.w-col-small-4.w-col-tiny-4.u-text-right",a.expires_at?[e(".fontsize-smaller.fontweight-semibold",l.total+" "+l.unit),e(".fontsize-smallest.lineheight-tightest",l.total>1?"Restantes":"Restante")]:[e(".fontsize-smallest.lineheight-tight",["Prazo em",e("br"),"aberto"])])])])])])}}}(window.m,window.c.h,window._,window.I18n),window.c.ProjectComments=function(e,t,o){return{controller:function(){var e=function(e,t){return function(e,t){t||o.fbParse()}};return{loadComments:e}},view:function(t,o){var n=o.project();return e('.fb-comments[data-href="http://www.catarse.me/'+n.permalink+'"][data-num-posts=50][data-width="610"]',{config:t.loadComments()})}}}(window.m,window.c,window.c.h),window.c.ProjectContributions=function(e,t,o,n){return{controller:function(o){var n=e.postgrest.paginationVM(t.projectContribution),r=e.postgrest.filtersVM({project_id:"eq",waiting_payment:"eq"}),i=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return function(){r.waiting_payment(e),n.firstPage(r.parameters())}};return r.project_id(o.project().id).waiting_payment(!1),n.collection().length||n.firstPage(r.parameters()),{listVM:n,filterVM:r,toggleWaiting:i}},view:function(t,r){var i=t.listVM;return e("#project_contributions.content.w-col.w-col-12",[r.project().is_owner_or_admin?e(".w-row.u-marginbottom-20",[e(".w-col.w-col-1",[e('input[checked="checked"][id="contribution_state_available_to_count"][name="waiting_payment"][type="radio"][value="available_to_count"]',{onclick:t.toggleWaiting()})]),e(".w-col.w-col-5",[e('label[for="contribution_state_available_to_count"]',"Confirmados")]),e(".w-col.w-col-1",[e('input[id="contribution_state_waiting_confirmation"][type="radio"][name="waiting_payment"][value="waiting_confirmation"]',{onclick:t.toggleWaiting(!0)})]),e(".w-col.w-col-5",[e('label[for="contribution_state_waiting_confirmation"]',"Pendentes")])]):"",e(".project-contributions",n.map(i.collection(),function(t){return e(".w-clearfix",[e(".w-row.u-marginbottom-20",[e(".w-col.w-col-1",[e('a[href="/users/'+t.user_id+'"]',[e('.thumb.u-left.u-round[style="background-image: url('+(n.isEmpty(t.profile_img_thumbnail)?"/assets/catarse_bootstrap/user.jpg":t.profile_img_thumbnail)+'); background-size: contain;"]')])]),e(".w-col.w-col-11",[e(".fontsize-base.fontweight-semibold",[e('a.link-hidden-dark[href="/users/'+t.user_id+'"]',t.user_name),t.is_owner_or_admin?e(".fontsize-smaller",["R$ "+o.formatNumber(t.value,2,3),t.anonymous?[e.trust("&nbsp;-&nbsp;"),e("strong","Apoiador anônimo")]:""]):"",e(".fontsize-smaller",o.momentify(t.created_at,"DD/MM/YYYY, HH:mm")+"h"),e(".fontsize-smaller",t.total_contributed_projects>1?"Apoiou este e mais outros "+t.total_contributed_projects+" projetos":"Apoiou somente este projeto até agora")])])]),e(".divider.u-marginbottom-20")])})),e(".w-row",[e(".w-col.w-col-2.w-col-push-5",[i.isLoading()?o.loader():i.isLastPage()?"":e("button#load-more.btn.btn-medium.btn-terciary",{onclick:i.nextPage},"Carregar mais")])])])}}}(window.m,window.c.models,window.c.h,window._),window.c.ProjectDashboardMenu=function(e,t,o,n){var r=t.partial(o.i18nScope,"projects.dashboard_nav");return{controller:function(e){var t=document.getElementsByTagName("body")[0],n=o.toggleProp(!0,!1),r=o.toggleProp("body-project open","body-project closed");return e.project.is_published||n.toggle(),{body:t,editLinksToggle:n,bodyToggleForNav:r}},view:function(i,a){var s=a.project(),l="/projects/"+s.id,c=l+"/edit",d="dashboard-nav-link-left "+(s.is_published?"indent":""),u="flex"===s.mode?e("span.fontsize-smallest.fontcolor-secondary"," (opcional)"):"";return i.body.className=i.bodyToggleForNav(),e("#project-nav",[e(".project-nav-wrapper",[e("nav.w-section.dashboard-nav.side",[e('a#dashboard_preview_link.w-inline-block.dashboard-project-name[href="'+(s.is_published?"/"+s.permalink:c+"#preview")+'"]',[e('img.thumb-project-dashboard[src="'+(t.isNull(s.large_image)?"/assets/thumb-project.png":s.large_image)+'"][width="114"]'),e(".fontcolor-negative.lineheight-tight.fontsize-small",s.name),e('img.u-margintop-10[src="/assets/catarse_bootstrap/badge-'+s.mode+'-h.png"][width=80]')]),e("#info-links",[e('a#dashboard_home_link[class="dashboard-nav-link-left '+(o.locationActionMatch("insights")?"selected":"")+'"][href="'+l+'/insights"]',[e("span.fa.fa-bar-chart.fa-lg.fa-fw"),n.t("start_tab",r())]),s.is_published?[e('a#dashboard_reports_link.dashboard-nav-link-left[href="'+c+'#reports"]',[e("span.fa.fa.fa-table.fa-lg.fa-fw"),n.t("reports_tab",r())]),e('a#dashboard_reports_link.dashboard-nav-link-left.u-marginbottom-30[href="'+c+'#posts"]',[e("span.fa.fa-bullhorn.fa-fw.fa-lg"),n.t("posts_tab",r()),e("span.badge",s.posts_count)])]:""]),e(".edit-project-div",[s.is_published?e("button#toggle-edit-menu.dashboard-nav-link-left",{onclick:i.editLinksToggle.toggle},[e("span.fa.fa-pencil.fa-fw.fa-lg"),n.t("edit_project",r())]):"",i.editLinksToggle()?e("#edit-menu-items",[e("#dashboard-links",[!s.is_published||s.is_admin_role?[e('a#basics_link[class="'+d+'"][href="'+c+'#basics"]',"Básico"),e('a#goal_link[class="'+d+'"][href="'+c+'#goal"]',"Financiamento")]:"",e('a#description_link[class="'+d+'"][href="'+c+'#description"]',"Descrição"),e('a#video_link[class="'+d+'"][href="'+c+'#video"]',["Vídeo",u]),e('a#budget_link[class="'+d+'"][href="'+c+'#budget"]',["Orçamento",u]),e('a#card_link[class="'+d+'"][href="'+c+'#card"]',"Card do projeto"),e('a#dashboard_reward_link[class="'+d+'"][href="'+c+'#reward"]',["Recompensas",u]),e('a#dashboard_user_about_link[class="'+d+'"][href="'+c+'#user_about"]',"Sobre você"),"flex"===s.mode||s.is_published||"approved"===s.state||s.is_admin_role?[e('a#dashboard_user_settings_link[class="'+d+'"][href="'+c+'#user_settings"]',"Conta")]:"",s.is_published?"":[e('a#dashboard_preview_link[class="'+d+'"][href="'+c+'#preview"]',[e("span.fa.fa-fw.fa-eye.fa-lg")," Preview"])]])]):"",s.is_published?["flex"===s.mode?[e(".btn-send-draft-fixed",t.isNull(s.expires_at)?e('a.w-button.btn.btn-medium.btn-secondary-dark[href="/projects/'+s.id+'/edit#announce_expiration"]',n.t("announce_expiration",r())):"")]:""]:[e(".btn-send-draft-fixed","aon"===s.mode?["draft"===s.state?e('a.btn.btn-medium[href="/projects/'+s.id+'/send_to_analysis"]',n.t("send",r())):"","approved"===s.state?e('a.btn.btn-medium[href="/projects/'+s.id+'/publish"]',[n.t("publish",r()),e.trust("&nbsp;&nbsp;"),e("span.fa.fa-chevron-right")]):""]:["draft"===s.state?e('a.btn.btn-medium[href="/projects/'+s.id+'/edit#preview"]',[n.t("publish",r()),e.trust("&nbsp;&nbsp;"),e("span.fa.fa-chevron-right")]):""])]])])]),e('a.btn-dashboard href="js:void(0);"',{onclick:i.bodyToggleForNav.toggle},[e("span.fa.fa-bars.fa-lg")])])}}}(window.m,window._,window.c.h,window.I18n),window.c.ProjectDataChart=function(e,t,o){return{controller:function(e){var n=o.first(e.collection()),r=o.isUndefined(n)?[]:n.source,i=function(){return[{fillColor:"rgba(126,194,69,0.2)",strokeColor:"rgba(126,194,69,1)",pointColor:"rgba(126,194,69,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:o.map(r,function(t){return t[e.dataKey]})}]},a=function(n,a){if(!a){var s=n.getContext("2d");new t(s).Line({labels:o.map(r,function(t){return e.xAxis(t)}),datasets:i()})}};return{renderChart:a}},view:function(t,o){return e(".card.u-radius.medium.u-marginbottom-30",[e(".fontweight-semibold.u-marginbottom-10.fontsize-large.u-text-center",o.label),e(".w-row",[e(".w-col.w-col-12.overflow-auto",[e('canvas[id="chart"][width="860"][height="300"]',{config:t.renderChart})])])])}}}(window.m,window.Chart,window._),window.c.ProjectDataTable=function(e,t,o,n){return{controller:function(t){var o=e.prop(t.table),r=e.prop(-1),i=function(e,t){var o=r(),i=n.isArray(e[o])&&e[o].length>1?e[o][0]:e[o],a=n.isArray(t[o])&&t[o].length>1?t[o][0]:t[o];return a>i?-1:i>a?1:0},a=function(e){var t=n.first(o()),a=void 0;r()===e?a=n.rest(o()).reverse():(r(e),a=n.rest(o()).sort(i)),o(n.union([t],a))};return a(Math.abs(t.defaultSortIndex)||0),t.defaultSortIndex<0&&a(Math.abs(t.defaultSortIndex)||0),{table:o,sortTable:a}},view:function(t,o){var r=n.first(t.table()),i=n.rest(t.table());return e(".table-outer.u-marginbottom-60",[e(".w-row.table-row.fontweight-semibold.fontsize-smaller.header",n.map(r,function(o,n){var r=function(){return t.sortTable(n)};return e(".w-col.w-col-4.w-col-small-4.w-col-tiny-4.table-col",[e('a.link-hidden[href="javascript:void(0);"]',{onclick:r},[o+" ",e("span.fa.fa-sort")])])})),e(".table-inner.fontsize-small",n.map(i,function(t){return e(".w-row.table-row",n.map(t,function(t){return t=n.isArray(t)&&t.length>1?t[1]:t,e(".w-col.w-col-4.w-col-small-4.w-col-tiny-4.table-col",[e("div",t)])}))}))])}}}(window.m,window.c.models,window.c.h,window._),window.c.ProjectHeader=function(e,t,o,n){return{view:function(r,i){var a=i.project;return n.isUndefined(a())&&(a=e.prop({})),e("#project-header",[e(".w-section.section-product."+a().mode),e(".w-section.page-header.u-text-center",[e(".w-container",[e('h1.fontsize-larger.fontweight-semibold.project-name[itemprop="name"]',o.selfOrEmpty(a().name)),e('h2.fontsize-base.lineheight-looser[itemprop="author"]',a().user?["por ",a().user.name]:"")])]),e(".w-section.project-main",[e(".w-container",[e(".w-row.project-main",[e(".w-col.w-col-8.project-highlight",e.component(t.ProjectHighlight,{project:a})),e(".w-col.w-col-4",e.component(t.ProjectSidebar,{project:a,userDetails:i.userDetails}))])])])])}}}(window.m,window.c,window.c.h,window._),window.c.ProjectHighlight=function(e,t,o,n){return{controller:function(){var e=o.toggleProp(!1,!0);return{displayShareBox:e}},view:function(o,r){var i=r.project,a=i().address||{state_acronym:"",city:""};return e("#project-highlight",[i().video_embed_url?e(".w-embed.w-video.project-video",{style:"min-height: 240px;"},[e('iframe.embedly-embed[itemprop="video"][src="'+i().video_embed_url+'"][frameborder="0"][allowFullScreen]')]):e(".project-image",{style:"background-image:url("+i().original_image+");"}),e(".project-blurb",i().headline),e(".u-text-center-small-only.u-marginbottom-30",[t.isNull(a)?"":e('a.btn.btn-inline.btn-small.btn-transparent.link-hidden-light.u-marginbottom-10[href="/pt/explore?pg_search='+a.state_acronym+'"]',[e("span.fa.fa-map-marker")," "+a.city+", "+a.state_acronym]),e('a.btn.btn-inline.btn-small.btn-transparent.link-hidden-light[href="/pt/explore#by_category_id/'+i.category_id+'"]',[e("span.fa.fa-tag")," ",i().category_name]),e("button#share-box.btn.btn-small.btn-terciary.btn-inline",{onclick:o.displayShareBox.toggle},"Compartilhar"),o.displayShareBox()?e.component(n.ProjectShareBox,{project:i,displayShareBox:o.displayShareBox}):""])])}}}(window.m,window._,window.c.h,window.c),window.c.ProjectMain=function(e,t,o,n){return{controller:function(r){var i=r.project,a=function(){var n=window.location.hash,a={project:i},s={"#rewards":e(".w-col.w-col-12",e.component(t.ProjectRewardList,o.extend({},{rewardDetails:r.rewardDetails},a))),"#contribution_suggestions":e.component(t.ProjectSuggestedContributions,a),"#contributions":e.component(t.ProjectContributions,a),"#about":e.component(t.ProjectAbout,o.extend({},{rewardDetails:r.rewardDetails},a)),"#comments":e.component(t.ProjectComments,a),"#posts":e.component(t.ProjectPosts,a)};return o.isEmpty(n)||"#_=_"===n||"#preview"===n?s["#about"]:s[n]};return n.redrawHashChange(),{displayTabContent:a}},view:function(t){return e('section.section[itemtype="http://schema.org/CreativeWork"]',[e(".w-container",[e(".w-row",t.displayTabContent())])])}}}(window.m,window.c,window._,window.c.h),window.c.ProjectMode=function(e,t,o,n){return{view:function(r,i){var a=i.project(),s=a.mode,l="aon"===s?"/assets/aon-badge.png":"/assets/flex-badge.png",c="aon"===s?"Campanha Tudo-ou-nada ":"Campanha Flexível ",d=n.isNull(a.goal)?"não definida":o.formatNumber(a.goal),u=function(n){return e.component(t.Tooltip,{el:n,text:"aon"===s?"Somente receberá os recursos se atingir ou ultrapassar a meta até o dia "+o.momentify(a.zone_expires_at,"DD/MM/YYYY")+".":"O realizador receberá todos os recursos quando encerrar a campanha, mesmo que não tenha atingido esta meta.",width:280})};return e("#"+s+".w-row",[e(".w-col.w-col-2.w-col-small-2.w-col-tiny-2",[n.isEmpty(a)?"":e('img[src="'+l+"\"][width='30']")]),e(".w-col.w-col-10.w-col-small-10.w-col-tiny-10",[e(".fontsize-smaller.fontweight-semibold","Meta R$ "+o.selfOrEmpty(d,"--")),e(".w-inline-block.fontsize-smallest._w-inline-block",[n.isEmpty(a)?"":c,u("span.w-inline-block.tooltip-wrapper.fa.fa-question-circle.fontcolor-secondary")])])])}}}(window.m,window.c,window.c.h,window._),window.c.ProjectPosts=function(e,t,o,n){return{controller:function(o){var n=e.postgrest.paginationVM(t.projectPostDetail),r=e.postgrest.filtersVM({project_id:"eq"});return r.project_id(o.project().id),n.collection().length||n.firstPage(r.parameters()),{listVM:n,filterVM:r}},view:function(t,r){var i=t.listVM,a=r.project()||{};return e(".project-posts.w-section",[e(".w-container.u-margintop-20",[a.is_owner_or_admin?[i.isLoading()?"":n.isEmpty(i.collection())?e(".w-hidden-small.w-hidden-tiny",[e(".fontsize-base.u-marginbottom-30.u-margintop-20","Toda novidade publicada no Catarse é enviada diretamente para o email de quem já apoiou seu projeto e também fica disponível para visualização no site. Você pode optar por deixá-la pública, ou visível somente para seus apoiadores aqui nesta aba.")]):"",e(".w-row.u-marginbottom-20",[e(".w-col.w-col-4"),e(".w-col.w-col-4",[e("a.btn.btn-edit.btn-small[href='/pt/projects/"+a.id+"/edit#posts']","Escrever novidade")]),e(".w-col.w-col-4")])]:"",n.map(i.collection(),function(t){return e(".w-row",[e(".w-col.w-col-1"),e(".w-col.w-col-10",[e(".post",[e(".u-marginbottom-60 .w-clearfix",[e(".fontsize-small.fontcolor-secondary.u-text-center",o.momentify(t.created_at)),e(".fontweight-semibold.fontsize-larger.u-text-center.u-marginbottom-30",t.title),n.isEmpty(t.comment_html)?e(".fontsize-base","Post exclusivo para apoiadores."):e(".fontsize-base",e.trust(t.comment_html))]),e(".divider.u-marginbottom-60")])]),e(".w-col.w-col-1")])}),e(".w-row",[e(".w-col.w-col-2.w-col-push-5",[i.isLoading()?o.loader():i.isLastPage()?"":e("button#load-more.btn.btn-medium.btn-terciary",{onclick:i.nextPage},"Carregar mais")])])])])}}}(window.m,window.c.models,window.c.h,window._),window.c.ProjectReminderCount=function(e){return{view:function(t,o){var n=o.resource;return e("#project-reminder-count.card.u-radius.u-text-center.medium.u-marginbottom-80",[e(".fontsize-large.fontweight-semibold","Total de pessoas que clicaram no botão Lembrar-me"),e(".fontsize-smaller.u-marginbottom-30","Um lembrete por email é enviado 48 horas antes do término da sua campanha"),e(".fontsize-jumbo",n.reminder_count)])}}}(window.m),window.c.ProjectReminder=function(e,t,o,n){return{controller:function(n){var r=n.project,i=e.postgrest.filtersVM({project_id:"eq"}),a="remind_"+r().id,s=e.prop(!1),l=e.prop(!1),c=function d(){if(!o.getUser())return o.storeAction(a,d),o.navigateToDevise();var n=r().in_reminder?t.projectReminder.deleteOptions(i.parameters()):t.projectReminder.postOptions({project_id:r().id});s=e.postgrest.loaderWithToken(n),s.load().then(function(){r().in_reminder=!r().in_reminder,r().in_reminder?(l(!0),setTimeout(function(){l(!1),e.redraw()},5e3)):l(!1)})};return o.callStoredAction(a,c),i.project_id(r().id),{l:s,submitReminder:c,popNotification:l}},view:function(t,o){var r="button"===o.type?"":".u-text-center.u-marginbottom-30",i="button"===o.type?"w-button btn btn-terciary btn-no-border":"btn-link link-hidden fontsize-small",a=o.hideTextOnMobile||!1,s=o.project;return e("#project-reminder"+r,[e('button[class="'+i+" "+(s().in_reminder?"link-hidden-success":"fontcolor-secondary")+' fontweight-semibold"]',{onclick:t.submitReminder},[t.l()?"aguarde ...":e("span.fa.fa-clock-o",[e("span"+(a?".w-hidden-medium":""),s().in_reminder?" Lembrete ativo":" Lembrar-me")])]),t.popNotification()?e.component(n.PopNotification,{message:"Ok! Vamos te mandar um lembrete por e-mail 48 horas antes do fim da campanha"}):""])}}}(window.m,window.c.models,window.c.h,window.c),window.c.ProjectRewardList=function(e,t,o){return{view:function(n,r){var i=r.project;return e("#rewards.u-marginbottom-30",o.map(r.rewardDetails(),function(n){var r="/projects/"+i.id+"/contributions/new?reward_id="+n.id;return e('a[class="'+(t.rewardSouldOut(n)?"card-gone":"card-reward "+(i.open_for_contributions?"clickable":""))+' card card-secondary u-marginbottom-10"][href="'+(i.open_for_contributions&&!t.rewardSouldOut(n)?r:"js:void(0);")+'"]',[e(".u-marginbottom-20",[e(".fontsize-base.fontweight-semibold","Para R$ "+t.formatNumber(n.minimum_value)+" ou mais"),e(".fontsize-smaller.fontweight-semibold",t.pluralize(n.paid_count," apoio"," apoios")),n.maximum_contributions>0?[n.waiting_payment_count>0?e(".maximum_contributions.in_time_to_confirm.clearfix",[e(".pending.fontsize-smallest.fontcolor-secondary",t.pluralize(n.waiting_payment_count," apoio em prazo de confirmação"," apoios em prazo de confirmação."))]):"",t.rewardSouldOut(n)?e(".u-margintop-10",[e("span.badge.badge-gone.fontsize-smaller","Esgotada")]):e(".u-margintop-10",[e("span.badge.badge-attention.fontsize-smaller",[e("span.fontweight-bold","Limitada")," ("+t.rewardRemaning(n)+" de "+n.maximum_contributions+" disponíveis)"])])]:""]),e(".fontsize-smaller.u-margintop-20",e.trust(t.simpleFormat(n.description))),o.isEmpty(n.deliver_at)?"":e(".fontsize-smaller",[e("b","Estimativa de Entrega: "),t.momentify(n.deliver_at,"MMM/YYYY")]),i.open_for_contributions&&!t.rewardSouldOut(n)?e(".project-reward-box-hover",[e(".project-reward-box-select-text.u-text-center","Selecione essa recompensa")]):""])}))}}}(window.m,window.c.h,window._),window.c.ProjectRow=function(e,t,o){return{view:function(n,r){var i=r.collection,a=r.ref,s=r.wrapper||".w-section.section.u-marginbottom-40";return i.loader()||i.collection().length>0?e(s,[e(".w-container",[t.isUndefined(i.title)&&t.isUndefined(i.hash)?"":e(".w-row.u-marginbottom-30",[e(".w-col.w-col-10.w-col-small-6.w-col-tiny-6",[e(".fontsize-large.lineheight-looser",i.title)]),e(".w-col.w-col-2.w-col-small-6.w-col-tiny-6",[e('a.btn.btn-small.btn-terciary[href="/pt/explore?ref='+a+"#"+i.hash+'"]',"Ver todos")])]),i.loader()?o.loader():e(".w-row",t.map(i.collection(),function(t){return e.component(c.ProjectCard,{project:t,ref:a})}))])]):e("div")}}}(window.m,window._,window.c.h),window.c.ProjectShareBox=function(e,t){return{controller:function(){return{displayEmbed:t.toggleProp(!1,!0)}},view:function(t,o){return e(".pop-share",{style:"display: block;"},[e(".w-hidden-main.w-hidden-medium.w-clearfix",[e("a.btn.btn-small.btn-terciary.btn-inline.u-right",{onclick:o.displayShareBox.toggle},"Fechar"),e(".fontsize-small.fontweight-semibold.u-marginbottom-30","Compartilhe este projeto")]),e(".w-widget.w-widget-facebook.w-hidden-small.w-hidden-tiny.share-block",[e('iframe[allowtransparency="true"][width="150px"][height="22px"][frameborder="0"][scrolling="no"][src="https://www.facebook.com/v2.0/plugins/share_button.php?app_id=173747042661491&channel=https%3A%2F%2Fs-static.ak.facebook.com%2Fconnect%2Fxd_arbiter%2F44OwK74u0Ie.js%3Fversion%3D41%23cb%3Df7d9b900c%26domain%3Dwww.catarse.me%26origin%3Dhttps%253A%252F%252Fwww.catarse.me%252Ff4b3ad0c8%26relation%3Dparent.parent&container_width=0&href=https%3A%2F%2Fwww.catarse.me%2Fpt%2F'+o.project().permalink+'%3Fref%3Dfacebook&layout=button_count&locale=pt_BR&sdk=joey"]')]),e(".w-widget.w-widget-twitter.w-hidden-small.w-hidden-tiny.share-block",[e('iframe[allowtransparency="true"][width="120px"][height="22px"][frameborder="0"][scrolling="no"][src="//platform.twitter.com/widgets/tweet_button.8d007ddfc184e6776be76fe9e5e52d69.en.html#_=1442425984936&count=horizontal&dnt=false&id=twitter-widget-1&lang=en&original_referer=https%3A%2F%2Fwww.catarse.me%2Fpt%2F'+o.project().permalink+"&size=m&text=Confira%20o%20projeto%20"+o.project().name+"%20no%20%40catarse&type=share&url=https%3A%2F%2Fwww.catarse.me%2Fpt%2F"+o.project().permalink+'%3Fref%3Dtwitter&via=catarse"]')]),e('a.w-hidden-small.widget-embed.w-hidden-tiny.fontsize-small.link-hidden.fontcolor-secondary[href="js:void(0);"]',{onclick:t.displayEmbed.toggle},"< embed >"),t.displayEmbed()?e(".embed-expanded.u-margintop-30",[e(".fontsize-small.fontweight-semibold.u-marginbottom-20","Insira um widget em seu site"),e(".w-form",[e('input.w-input[type="text"][value="<iframe frameborder="0" height="314px" src="https://www.catarse.me/pt/projects/'+o.project().id+'/embed" width="300px" scrolling="no"></iframe>"]')]),e(".card-embed",[e('iframe[frameborder="0"][height="350px"][src="/projects/'+o.project().id+'/embed"][width="300px"][scrolling="no"]')])]):"",e('a.w-hidden-main.w-hidden-medium.btn.btn-medium.btn-fb.u-marginbottom-20[href="http://www.facebook.com/sharer/sharer.php?u=https://www.catarse.me/'+o.project().permalink+"?ref=facebook&title="+o.project().name+'"][target="_blank"]',[e("span.fa.fa-facebook")," Compartilhe"]),e('a.w-hidden-main.w-hidden-medium.btn.btn-medium.btn-tweet.u-marginbottom-20[href="http://twitter.com/?status=Acabei de apoiar o projeto '+o.project().name+" htts://www.catarse.me/"+o.project().permalink+'?ref=twitterr"][target="_blank"]',[e("span.fa.fa-twitter")," Tweet"])])}}}(window.m,window.c.h),window.c.ProjectSidebar=function(e,t,o,n,r){var i=n.partial(t.i18nScope,"projects.project_sidebar");return{controller:function(e){var o=e.project,n=function(e,n){n||!function(){var n=void 0,r=0,i=0,a=0,s=o().pledged/o().progress,l=o().total_contributors/o().progress,c=document.getElementById("progressBar"),d=document.getElementById("pledged"),u=document.getElementById("contributors"),m=function(){n=setInterval(w,28)},w=function(){r<=parseInt(o().progress)?(c.style.width=r+"%",d.innerText="R$ "+t.formatNumber(i),u.innerText=parseInt(a)+" pessoas",e.innerText=r+"%",i+=s,a+=l,r+=1):clearInterval(n)};setTimeout(function(){m()},1800)}()},a=function(){var e={waiting_funds:"card-waiting",successful:"card-success",failed:"card-error",draft:"card-dark",in_analysis:"card-dark",approved:"card-dark"};return e[o().state]?"card u-radius zindex-10 "+e[o().state]:""},s=function(){var e={approved:r.t("display_status.approved",i()),online:t.existy(o().zone_expires_at)?r.t("display_status.online",i({date:t.momentify(o().zone_expires_at)})):"",failed:r.t("display_status.failed",i({date:t.momentify(o().zone_expires_at),goal:o().goal})),rejected:r.t("display_status.rejected",i()),in_analysis:r.t("display_status.in_analysis",i()),successful:r.t("display_status.successful",i({date:t.momentify(o().zone_expires_at)})),waiting_funds:r.t("display_status.waiting_funds",i()),draft:r.t("display_status.draft",i())};return e[o().state]};return{animateProgress:n,displayCardClass:a,displayStatusText:s}},view:function(n,a){var s=a.project,l=s().elapsed_time,c=s().remaining_time;return e("#project-sidebar.aside",[e(".project-stats",[e(".project-stats-inner",[e(".project-stats-info",[e(".u-marginbottom-20",[e("#pledged.fontsize-largest.fontweight-semibold.u-text-center-small-only","R$ "+(s().pledged?t.formatNumber(s().pledged):"0")),e(".fontsize-small.u-text-center-small-only",[r.t("contributors_call",i()),e("span#contributors.fontweight-semibold",r.t("contributors_count",i({count:s().total_contributors}))),!s().expires_at&&l?" em "+r.t("datetime.distance_in_words.x_"+l.unit,{count:l.total},i()):""])]),e(".meter",[e("#progressBar.meter-fill",{style:{width:s().progress+"%"}})]),e(".w-row.u-margintop-10",[e(".w-col.w-col-5.w-col-small-6.w-col-tiny-6",[e(".fontsize-small.fontweight-semibold.lineheight-tighter",(s().progress?parseInt(s().progress):"0")+"%")]),e(".w-col.w-col-7.w-col-small-6.w-col-tiny-6.w-clearfix",[e(".u-right.fontsize-small.lineheight-tighter",c&&c.total?[e("span.fontweight-semibold",c.total),r.t("remaining_time."+c.unit,i({count:c.total}))]:"")])])]),e(".w-row",[e.component(o.ProjectMode,{project:s})])]),s().open_for_contributions?e('a#contribute_project_form.btn.btn-large.u-marginbottom-20[href="/projects/'+s().id+'/contributions/new"]',r.t("submit",i())):"",s().open_for_contributions?e.component(o.ProjectReminder,{project:s,type:"link"}):"",e('div[class="fontsize-smaller u-marginbottom-30 '+n.displayCardClass()+'"]',n.displayStatusText())]),e(".user-c",e.component(o.ProjectUserCard,{userDetails:a.userDetails}))])}}}(window.m,window.c.h,window.c,window._,window.I18n),window.c.ProjectSuggestedContributions=function(e,t,o){return{view:function(t,n){var r=n.project,i=function(e){return"/projects/"+r.project_id+"/contributions/new?amount="+e},a=[10,25,50,100];return e("#suggestions",o.map(a,function(t){return e('a[href="'+i(t)+'"].card-reward.card-big.card-secondary.u-marginbottom-20',[e(".fontsize-larger","R$ "+t)])}))}}}(window.m,window.c,window._),window.c.ProjectTabs=function(e,t){return{controller:function(t){var o=e.prop(!1),n=e.prop(-1),r=function(t){return function(){var r=t.getBoundingClientRect();window.scrollY<=n()&&(n(-1),o(!1),e.redraw()),(r.top<0||window.scrollY>n()&&n()>0)&&(o()||(n(window.scrollY),o(!0),e.redraw()))}},i=function(e,t){if(!t){var o=r(e);window.addEventListener("scroll",o)}};return{navDisplay:i,isFixed:o}},view:function(o,n){var r=n.project,i=n.rewardDetails,a=!o.isFixed()||r().is_owner_or_admin?".w-section.project-nav":".w-section.project-nav.project-nav-fixed";return e("nav-wrapper",r()?[e(a,{config:o.navDisplay},[e(".w-container",[e(".w-row",[e(".w-col.w-col-8",[_.isEmpty(i())?e('a[id="rewards-link"][class="w-hidden-main w-hidden-medium dashboard-nav-link mf '+(t.hashMatch("#contribution_suggestions")?"selected":"")+'"][href="#contribution_suggestions"]',{style:"float: left;"},"Valores Sugeridos"):e('a[id="rewards-link"][class="w-hidden-main w-hidden-medium dashboard-nav-link mf '+(t.hashMatch("#rewards")?"selected":"")+'"][href="#rewards"]',{style:"float: left;"},"Recompensas"),e('a[id="about-link"][class="dashboard-nav-link mf '+(t.hashMatch("#about")||t.hashMatch("")?"selected":"")+' "][href="#about"]',{style:"float: left;"},"Sobre"),e('a[id="posts-link"][class="dashboard-nav-link mf '+(t.hashMatch("#posts")?"selected":"")+'"][href="#posts"]',{style:"float: left;"},["Novidades ",e("span.badge",r()?r().posts_count:"")]),e('a[id="contributions-link"][class="w-hidden-small w-hidden-tiny dashboard-nav-link mf '+(t.hashMatch("#contributions")?"selected":"")+'"][href="#contributions"]',{style:"float: left;"},["Apoios ",e("span.badge.w-hidden-small.w-hidden-tiny",r()?r().total_contributions:"-")]),e('a[id="comments-link"][class="dashboard-nav-link mf '+(t.hashMatch("#comments")?"selected":"")+'"][href="#comments"]',{style:"float: left;"},["Comentários ",r()?e('fb:comments-count[href="http://www.catarse.me/'+r().permalink+'"][class="badge project-fb-comment w-hidden-small w-hidden-tiny"][style="display: inline"]',e.trust("&nbsp;")):"-"])]),r()?e(".w-col.w-col-4.w-hidden-small.w-hidden-tiny",r().open_for_contributions?[e(".w-row.project-nav-back-button",[e(".w-col.w-col-6.w-col-medium-8",[e('a.w-button.btn[href="/projects/'+r().id+'/contributions/new"]',"Apoiar ‍este projeto")]),e(".w-col.w-col-6.w-col-medium-4",[e.component(c.ProjectReminder,{project:r,type:"button",hideTextOnMobile:!0})])])]:""):""])])]),o.isFixed()&&!r().is_owner_or_admin?e(".w-section.project-nav"):""]:"")}}}(window.m,window.c.h),window.c.ProjectUserCard=function(e,t,o){return{view:function(n,r){return e("#user-card",t.map(r.userDetails(),function(n){return e(".u-marginbottom-30.u-text-center-small-only",[e(".w-row",[e(".w-col.w-col-4",[e('img.thumb.u-marginbottom-30.u-round[width="100"][itemprop="image"][src="'+n.profile_img_thumbnail+'"]')]),e(".w-col.w-col-8",[e('.fontsize-small.link-hidden.fontweight-semibold.u-marginbottom-10.lineheight-tight[itemprop="name"]',[e('a.link-hidden[href="/users/'+n.id+'"]',n.name)]),e(".fontsize-smallest",[o.pluralize(n.total_published_projects," criado"," criados"),e.trust("&nbsp;&nbsp;|&nbsp;&nbsp;"),o.pluralize(n.total_contributed_projects," apoiado"," apoiados")]),e("ul.w-hidden-tiny.w-hidden-small.w-list-unstyled.fontsize-smaller.fontweight-semibold.u-margintop-20.u-marginbottom-20",[t.isEmpty(n.facebook_link)?"":e("li",[e('a.link-hidden[itemprop="url"][href="'+n.facebook_link+'"][target="_blank"]',"Perfil no Facebook")]),t.isEmpty(n.twitter_username)?"":e("li",[e('a.link-hidden[itemprop="url"][href="https://twitter.com/'+n.twitter_username+'"][target="_blank"]',"Perfil no Twitter")]),t.map(n.links,function(n){var r=o.parseUrl(n);return t.isEmpty(r.hostname)?"":e("li",[e('a.link-hidden[itemprop="url"][href="'+n+'"][target="_blank"]',r.hostname)])})]),t.isEmpty(n.email)?"":e('.w-hidden-small.w-hidden-tiny.fontsize-smallest.alt-link.fontweight-semibold[itemprop="email"][target="_blank"]',n.email)])])])}))}}}(window.m,window._,window.c.h),window.c.Slider=function(e,t){return{controller:function(t){var o=void 0,n=e.prop(0),r=e.prop(1600),i=function(){n(n()>0?n()-1:t.slides.length-1)},a=function(){n(n()<t.slides.length-1?n()+1:0)},s=function(){o=setInterval(function(){a(),e.redraw()},6500)},l=function(){clearInterval(o),s()},c=function(t,n,i){n||(r(Math.max(document.documentElement.clientWidth,window.innerWidth||0)),e.redraw()),i.onunload=function(){return clearInterval(o)}};return s(),{config:c,selectedSlideIdx:n,translationSize:r,decrementSlide:i,incrementSlide:a,resetSliderTimer:l}},view:function(o,n){var r=function(e,t){e(t),o.resetSliderTimer()};return e(".w-slider.slide-testimonials",{config:o.config},[e(".fontsize-larger",n.title),e(".w-slider-mask",[t.map(n.slides,function(t,n){var r=(n-o.selectedSlideIdx())*o.translationSize(),i="translate3d("+r+"px, 0, 0)";return e(".slide.w-slide.slide-testimonials-content",{style:"transform: "+i+"; -webkit-transform: "+i+"; -ms-transform:"+i+";"
},[e(".w-container",[e(".w-row",[e(".w-col.w-col-8.w-col-push-2",t)])])])}),e("#slide-prev.w-slider-arrow-left.w-hidden-small.w-hidden-tiny",{onclick:function(){return r(o.decrementSlide)}},[e(".w-icon-slider-left.fa.fa-lg.fa-angle-left.fontcolor-terciary")]),e("#slide-next.w-slider-arrow-right.w-hidden-small.w-hidden-tiny",{onclick:function(){return r(o.incrementSlide)}},[e(".w-icon-slider-right.fa.fa-lg.fa-angle-right.fontcolor-terciary")]),e(".w-slider-nav.w-slider-nav-invert.w-round.slide-nav",t(n.slides.length).times(function(t){return e(".slide-bullet.w-slider-dot"+(o.selectedSlideIdx()===t?".w-active":""),{onclick:function(){return r(o.selectedSlideIdx,t)}})}))])])}}}(window.m,window._),window.c.TeamMembers=function(e,t,o){return{controller:function(){var n={collection:t.prop([])},r=function(t,o){return e.map(e.range(Math.ceil(t.length/o)),function(e){return t.slice(e*o,(e+1)*o)})};return o.teamMember.getPage().then(function(e){n.collection(r(e,4))}),{vm:n}},view:function(o){return t("#team-members-static.w-section.section",[t(".w-container",[e.map(o.vm.collection(),function(o){return t(".w-row.u-text-center",[e.map(o,function(e){return t(".team-member.w-col.w-col-3.w-col-small-3.w-col-tiny-6.u-marginbottom-40",[t('a.alt-link[href="/users/'+e.id+'"]',[t('img.thumb.big.u-round.u-marginbottom-10[src="'+e.img+'"]'),t(".fontweight-semibold.fontsize-base",e.name)]),t(".fontsize-smallest.fontcolor-secondary","Apoiou "+e.total_contributed_projects+" projetos")])})])})])])}}}(window._,window.m,window.c.models),window.c.TeamTotal=function(e,t,o){return{controller:function(){var t={collection:e.prop([])};return o.teamTotal.getRow().then(function(e){t.collection(e)}),{vm:t}},view:function(o){return e("#team-total-static.w-section.section-one-column.section.u-margintop-40.u-text-center.u-marginbottom-20",[o.vm.collection().map(function(o){return e(".w-container",[e(".w-row",[e(".w-col.w-col-2"),e(".w-col.w-col-8",[e(".fontsize-base.u-marginbottom-30","Hoje somos "+o.member_count+" pessoas espalhadas por "+o.total_cities+" cidades em "+o.countries.length+" países ("+o.countries.toString()+")! O Catarse é independente, sem investidores, de código aberto e construído com amor. Nossa paixão é construir um ambiente onde cada vez mais projetos possam ganhar vida."),e(".fontsize-larger.lineheight-tight.text-success","Nossa equipe, junta, já apoiou R$"+t.formatNumber(o.total_amount)+" para "+o.total_contributed_projects+" projetos!")]),e(".w-col.w-col-2")])])})])}}}(window.m,window.c.h,window.c.models),window.c.Tooltip=function(e,t,o){return{controller:function(t){var n=(e.prop(0),e.prop(t.width||280)),r=e.prop(0),i=e.prop(0),a=e.prop(0),s=e.prop({top:0,left:0}),l=o.toggleProp(0,1),c=function(){l.toggle(),e.redraw()},d=function(e,t){t||s(o.cumulativeOffset(e))},u=function(e,t){if(!t){var o=e.offsetHeight+e.offsetParent.offsetHeight,n=window.getComputedStyle(e);window.innerWidth<e.offsetWidth+2*parseFloat(n.paddingLeft)+30?(e.style.width=window.innerWidth-30,i(-s().left+15)):s().left+e.offsetWidth/2<=window.innerWidth&&s().left-e.offsetWidth/2>=0?i(-e.offsetWidth/2):s().left+e.offsetWidth/2>window.innerWidth?i(-e.offsetWidth+e.offsetParent.offsetWidth):s().left-e.offsetWidth/2<0&&i(-e.offsetParent.offsetWidth),r(-o)}};return{width:n,top:r,left:i,opacity:a,tooltip:l,toggle:c,setPosition:u,setParentPosition:d}},view:function(t,o){var n=t.width();return e(o.el,{onclick:t.toggle,config:t.setParentPosition,style:{cursor:"pointer"}},t.tooltip()?[e('.tooltip.dark[style="width: '+n+"px; top: "+t.top()+"px; left: "+t.left()+'px;"]',{config:t.setPosition},[e(".fontsize-smallest",o.text)])]:"")}}}(window.m,window.c,window.c.h),window.c.UserBalanceRequestModalContent=function(e,t,o,n,r){var i=o.partial(t.i18nScope,"users.balance");return{controller:function(o){var r=(e.postgrest.filtersVM({user_id:"eq"}),o.balance),i=n.balanceTransfer.postOptions({user_id:r.user_id}),a=e.postgrest.loaderWithToken(i),s=t.toggleProp(!1,!0),l=function(){a.load().then(function(e){o.balanceManager.load(),o.balanceTransactionManager.load(),s.toggle()})};return o.bankAccountManager.load(),{requestLoader:a,requestFund:l,bankAccounts:o.bankAccountManager.collection,displayDone:s,loadBankA:o.bankAccountManager.loader}},view:function(n,a){var s=a.balance;return n.loadBankA()?t.loader():e("div",o.map(n.bankAccounts(),function(o){return[e(".modal-dialog-header",[e(".fontsize-large.u-text-center",r.t("withdraw",i()))]),n.displayDone()?e(".modal-dialog-content.u-text-center",[e(".fa.fa-check-circle.fa-5x.text-success.u-marginbottom-40"),e("p.fontsize-large",r.t("sucess_message",i()))]):e(".modal-dialog-content",[e(".fontsize-base.u-marginbottom-20",[e("span.fontweight-semibold","Valor:"),e.trust("&nbsp;"),e("span.text-success","R$ "+t.formatNumber(s.amount,2,3))]),e(".fontsize-base.u-marginbottom-10",[e("span",{style:{"font-weight":" 600"}},r.t("bank.account",i()))]),e(".fontsize-small.u-marginbottom-10",[e("div",[e("span.fontcolor-secondary",r.t("bank.name",i())),e.trust("&nbsp;"),o.owner_name]),e("div",[e("span.fontcolor-secondary",r.t("bank.cpf_cnpj",i())),e.trust("&nbsp;"),o.owner_document]),e("div",[e("span.fontcolor-secondary",r.t("bank.bank_name",i())),e.trust("&nbsp;"),o.bank_name]),e("div",[e("span.fontcolor-secondary",r.t("bank.agency",i())),e.trust("&nbsp;"),o.agency+"-"+o.agency_digit]),e("div",[e("span.fontcolor-secondary",r.t("bank.account",i())),e.trust("&nbsp;"),o.account+"-"+o.account_digit])])]),n.displayDone()?"":e(".modal-dialog-nav-bottom",[e(".w-row",[e(".w-col.w-col-3"),e(".w-col.w-col-6",[n.requestLoader()?t.loader():e('a.btn.btn-large.btn-request-fund[href="js:void(0);"]',{onclick:n.requestFund},"Solicitar saque")]),e(".w-col.w-col-3")])])]}))}}}(window.m,window.c.h,window._,window.c.models,window.I18n),window.c.UserBalanceTransactionRow=function(e,t){var o=_.partial(t.i18nScope,"users.balance");return{controller:function(e){var o=t.toggleProp(!1,!0);return 0==e.index&&o.toggle(),{expanded:o}},view:function(n,r){var i=r.item,a=t.momentFromString(i.created_at,"YYYY-MM-DD");return e("div[class='balance-card "+(n.expanded()?"card-detailed-open":"")+"']",e(".w-clearfix.card.card-clickable",[e(".w-row",[e(".w-col.w-col-2.w-col-tiny-2",[e(".fontsize-small.lineheight-tightest",a.format("D MMM")),e(".fontsize-smallest.fontcolor-terciary",a.format("YYYY"))]),e(".w-col.w-col-10.w-col-tiny-10",[e(".w-row",[e(".w-col.w-col-4",[e("div",[e("span.fontsize-smaller.fontcolor-secondary",I18n.t("debit",o())),e.trust("&nbsp;"),e("span.fontsize-base.text-error","R$ "+t.formatNumber(Math.abs(i.debit),2,3))])]),e(".w-col.w-col-4",[e("div",[e("span.fontsize-smaller.fontcolor-secondary",I18n.t("credit",o())),e.trust("&nbsp;"),e("span.fontsize-base.text-success","R$ "+t.formatNumber(i.credit,2,3))])]),e(".w-col.w-col-4",[e("div",[e("span.fontsize-smaller.fontcolor-secondary",I18n.t("totals",o())),e.trust("&nbsp;"),e("span.fontsize-base","R$ "+t.formatNumber(i.total_amount,2,3))])])])])]),e("a.w-inline-block.arrow-admin."+(n.expanded()?"arrow-admin-opened":"")+'.fa.fa-chevron-down.fontcolor-secondary[href="js:(void(0));"]',{onclick:n.expanded.toggle})]),n.expanded()?e(".card",_.map(i.source,function(o){var n=o.amount>=0;return e("div",[e(".w-row.fontsize-small.u-marginbottom-10",[e(".w-col.w-col-2",[e(".text-"+(n?"success":"error"),(n?"+":"-")+" R$ "+t.formatNumber(Math.abs(o.amount),2,3))]),e(".w-col.w-col-10",[e("div",o.event_name+" "+o.origin_object.name)])]),e(".divider.u-marginbottom-10")])})):"")}}}(window.m,window.c.h),window.c.UserBalanceTransactions=function(e,t,o,n){return{controller:function(e){return e.balanceTransactionManager.load(),{list:e.balanceTransactionManager.list}},view:function(o,r){var i=o.list;return e(".w-section.section.card-terciary.before-footer.balance-transactions-area",[e(".w-container",n.map(i.collection(),function(t,o){return e.component(c.UserBalanceTransactionRow,{item:t,index:o})})),e(".container",[e(".w-row.u-margintop-40",[e(".w-col.w-col-2.w-col-push-5",[i.isLoading()?t.loader():i.isLastPage()?"":e("button#load-more.btn.btn-medium.btn-terciary",{onclick:i.nextPage},"Carregar mais")])])])])}}}(window.m,window.c.h,window.c.models,window._),window.c.UserBalance=function(e,t,o,n,r){var i=o.partial(t.i18nScope,"users.balance");return{controller:function(e){var o=t.toggleProp(!1,!0);return e.balanceManager.load(),{userBalances:e.balanceManager.collection,displayModal:o}},view:function(n,a){var s=o.first(n.userBalances()),l=["UserBalanceRequestModalContent",o.extend({},{balance:s},a)];return e(".w-section.section.user-balance-section",[n.displayModal()?e.component(r.ModalBox,{displayModal:n.displayModal,content:l}):"",e(".w-container",[e(".w-row",[e(".w-col.w-col-8.u-text-center-small-only.u-marginbottom-20",[e(".fontsize-larger",[I18n.t("totals",i()),e("span.text-success","R$ "+t.formatNumber(s.amount,2,3))])]),e(".w-col.w-col-4",[e('a[class="r-fund-btn w-button btn btn-medium u-marginbottom-10 '+(s.amount<=0?"btn-inactive":"")+'"][href="js:void(0);"]',{onclick:s.amount>0?n.displayModal.toggle:"js:void(0);"},I18n.t("withdraw_cta",i()))])])])])}}}(window.m,window.c.h,window._,window.c.models,window.c),window.c.UserCard=function(e,t,o,n){return{controller:function(t){var r=n.idVM,i=e.prop([]);return r.id(t.userId),o.userDetail.getRowWithToken(r.parameters()).then(i),{userDetails:i}},view:function(o){return e("#user-card",t.map(o.userDetails(),function(o){return e('.card.card-user.u-radius.u-marginbottom-30[itemprop="author"]',[e(".w-row",[e(".w-col.w-col-4.w.col-small-4.w-col-tiny-4.w-clearfix",[e('img.thumb.u-round[width="100"][itemprop="image"][src="'+o.profile_img_thumbnail+'"]')]),e(".w-col.w-col-8.w-col-small-8.w-col-tiny-8",[e('.fontsize-small.fontweight-semibold.lineheight-tighter[itemprop="name"]',[e('a.link-hidden[href="/users/'+o.id+'"]',o.name)]),e('.fontsize-smallest.lineheight-looser[itemprop="address"]',o.address_city),e(".fontsize-smallest",o.total_published_projects+" projetos criados"),e(".fontsize-smallest","apoiou "+o.total_contributed_projects+" projetos")])]),e(".project-author-contacts",[e("ul.w-list-unstyled.fontsize-smaller.fontweight-semibold",[t.isEmpty(o.facebook_link)?"":e("li",[e('a.link-hidden[itemprop="url"][href="'+o.facebook_link+'"][target="_blank"]',"Perfil no Facebook")]),t.isEmpty(o.twitter_username)?"":e("li",[e('a.link-hidden[itemprop="url"][href="https://twitter.com/'+o.twitter_username+'"][target="_blank"]',"Perfil no Twitter")]),t.map(o.links,function(t){return e("li",[e('a.link-hidden[itemprop="url"][href="'+t+'"][target="_blank"]',t)])})])]),t.isEmpty(o.email)?"":e('a.btn.btn-medium.btn-message[href="mailto:'+o.email+'"][itemprop="email"][target="_blank"]',"Enviar mensagem")])}))}}}(window.m,window._,window.c.models,window.c.h),window.c.YoutubeLightbox=function(e,t,o,n){return{controller:function(e){var t=void 0,n=o.toggleProp(!1,!0),r=function(e,t){if(!t){var o=document.createElement("script"),n=document.getElementsByTagName("script")[0];o.src="https://www.youtube.com/iframe_api",n.parentNode.insertBefore(o,n),window.onYouTubeIframeAPIReady=a}},i=function(){return _.isUndefined(t)||t.pauseVideo(),n.toggle(),!1},a=function(){t=new YT.Player("ytvideo",{height:"528",width:"940",videoId:e.src,playerVars:{showInfo:0,modestBranding:0},events:{onStateChange:function(e){return 0===e.data?i():!1}}})};return{showLightbox:n,setYoutube:r,closeVideo:i}},view:function(t,o){return e("#youtube-lightbox",[e("a#youtube-play.w-lightbox.w-inline-block.fa.fa-play-circle.fontcolor-negative.fa-5x[href='javascript:void(0);']",{onclick:t.showLightbox.toggle}),e('#lightbox.w-lightbox-backdrop[style="display:'+(t.showLightbox()?"block":"none")+'"]',[e(".w-lightbox-container",[e(".w-lightbox-content",[e(".w-lightbox-view",[e(".w-lightbox-frame",[e("figure.w-lightbox-figure",[e("img.w-lightbox-img.w-lightbox-image[src='data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%22940%22%20height=%22528%22/%3E']"),e("#ytvideo.embedly-embed.w-lightbox-embed",{config:t.setYoutube})])])]),e(".w-lightbox-spinner.w-lightbox-hide"),e(".w-lightbox-control.w-lightbox-left.w-lightbox-inactive"),e(".w-lightbox-control.w-lightbox-right.w-lightbox-inactive"),e("#youtube-close.w-lightbox-control.w-lightbox-close",{onclick:t.closeVideo})]),e(".w-lightbox-strip")])])])}}}(window.m,window.c,window.c.h,window.c.models),window.c.admin.Contributions=function(e,t,o){var n=t.admin;return{controller:function(){var t=n.contributionListVM,o=n.contributionFilterVM,r=e.prop(""),i=[{component:"FilterMain",data:{vm:o.full_text_index,placeholder:"Busque por projeto, email, Ids do usuário e do apoio..."}},{component:"FilterDropdown",data:{label:"Com o estado",name:"state",vm:o.state,options:[{value:"",option:"Qualquer um"},{value:"paid",option:"paid"},{value:"refused",option:"refused"},{value:"pending",option:"pending"},{value:"pending_refund",option:"pending_refund"},{value:"refunded",option:"refunded"},{value:"chargeback",option:"chargeback"},{value:"deleted",option:"deleted"}]}},{component:"FilterDropdown",data:{label:"gateway",name:"gateway",vm:o.gateway,options:[{value:"",option:"Qualquer um"},{value:"Pagarme",option:"Pagarme"},{value:"MoIP",option:"MoIP"},{value:"PayPal",option:"PayPal"},{value:"Credits",option:"Créditos"}]}},{component:"FilterNumberRange",data:{label:"Valores entre",first:o.value.gte,last:o.value.lte}},{component:"FilterDateRange",data:{label:"Período do apoio",first:o.created_at.gte,last:o.created_at.lte}}],a=function(){return r(!1),t.firstPage(o.parameters()).then(null,function(e){r(e.message)}),!1};return{filterVM:o,filterBuilder:i,listVM:{list:t,error:r},data:{label:"Apoios"},submit:a}},view:function(o){return[e.component(t.AdminFilter,{form:o.filterVM.formDescriber,filterBuilder:o.filterBuilder,submit:o.submit}),e.component(t.AdminList,{vm:o.listVM,listItem:t.AdminContributionItem,listDetail:t.AdminContributionDetail})]}}}(window.m,window.c,window.c.h),window.c.admin.Users=function(e,t,o){var n=t.admin;return{controller:function(){var t=n.userListVM,o=n.userFilterVM,r=e.prop(""),i=[{component:"FilterMain",data:{vm:o.full_text_index,placeholder:"Busque por nome, e-mail, Ids do usuário..."}},{component:"FilterDropdown",data:{label:"Com o estado",index:"status",name:"deactivated_at",vm:o.deactivated_at,options:[{value:"",option:"Qualquer um"},{value:null,option:"ativo"},{value:!0,option:"desativado"}]}}],a=function(){return t.firstPage(o.parameters()).then(null,function(e){r(e.message)}),!1};return{filterVM:o,filterBuilder:i,listVM:{list:t,error:r},submit:a}},view:function(o){var n="Usuários";return[e.component(t.AdminFilter,{form:o.filterVM.formDescriber,filterBuilder:o.filterBuilder,label:n,submit:o.submit}),e.component(t.AdminList,{vm:o.listVM,label:n,listItem:t.AdminUserItem,listDetail:t.AdminUserDetail})]}}}(window.m,window.c,window.c.h),window.c.vms.projectFilters=function(e,t,o){return function(){var t=e.postgrest.filtersVM,n=t({near_me:"eq",open_for_contributions:"eq"}).open_for_contributions("true").near_me(!0),r=t({expires_at:"lte",open_for_contributions:"eq"}).open_for_contributions("true").expires_at(o().add(14,"days").format("YYYY-MM-DD")),i=t({online_date:"gte",open_for_contributions:"eq"}).open_for_contributions("true").online_date(o().subtract(5,"days").format("YYYY-MM-DD")),a=t({recommended:"eq",open_for_contributions:"eq"}).recommended("true").open_for_contributions("true"),s=t({open_for_contributions:"eq"}).open_for_contributions("true"),l=t({state:"eq"}).state("successful");return{recommended:{title:"Recomendados",filter:a},online:{title:"No ar",filter:s},expiring:{title:"Reta final",filter:r},successful:{title:"Bem-sucedidos",filter:l},recent:{title:"Recentes",filter:i},near_me:{title:"Próximos a mim",filter:n}}}}(window.m,window.c.h,window.moment),window.c.vms.project=function(e,t,o,n){return function(r,i){var a=e.postgrest.filtersVM({project_id:"eq"}),s=t.idVM,l=e.prop([]),c=e.prop([]),d=e.prop([]);a.project_id(r),s.id(i);var u=e.postgrest.loaderWithToken(n.projectDetail.getRowOptions(a.parameters())),m=e.postgrest.loaderWithToken(n.userDetail.getRowOptions(s.parameters())),w=e.postgrest.loaderWithToken(n.rewardDetail.getPageOptions(a.parameters())),p=function(){return u()||m()||w()};return u.load().then(function(e){m.load().then(c),w.load().then(d),l(e)}),{projectDetails:o.compose(o.first,l),userDetails:c,rewardDetails:d,isLoading:p}}}(window.m,window.c.h,window._,window.c.models),window.c.vms.start=function(e){return function(t){var o=t.translations[t.currentLocale()].pages.start,n=o.testimonials,r=o.categoryProjects,i=o.panes,a=o.qa;return{testimonials:e.map(n,function(e){return{thumbUrl:e.thumb,content:e.content,name:e.name,totals:e.totals}}),panes:e.map(i,function(e){return{label:e.label,src:e.src}}),questions:{col_1:e.map(a.col_1,function(e){return{question:e.question,answer:e.answer}}),col_2:e.map(a.col_2,function(e){return{question:e.question,answer:e.answer}})},categoryProjects:e.map(r,function(e){return{categoryId:e.category_id,sampleProjects:[e.sample_project_ids.primary,e.sample_project_ids.secondary]}})}}}(window._),window.c.admin.userFilterVM=function(e,t){var o=e.postgrest.filtersVM({full_text_index:"@@",deactivated_at:"is.null"}),n=function(e){return(e||"").toString().trim()};return o.deactivated_at(null).order({id:"desc"}),o.deactivated_at.toFilter=function(){var e=JSON.parse(o.deactivated_at());return e},o.full_text_index.toFilter=function(){var e=n(o.full_text_index());return e&&t(e)||void 0},o}(window.m,window.replaceDiacritics),window.c.admin.userListVM=function(e,t){return e.postgrest.paginationVM(t.user,"id.desc",{Prefer:"count=exact"})}(window.m,window.c.models),window.c.admin.contributionFilterVM=function(e,t,o){var n=e.postgrest.filtersVM({full_text_index:"@@",state:"eq",gateway:"eq",value:"between",created_at:"between"}),r=function(e){return(e||"").toString().trim()};return n.state(""),n.gateway(""),n.order({id:"desc"}),n.created_at.lte.toFilter=function(){var e=r(n.created_at.lte());return e&&t.momentFromString(e).endOf("day").format("")},n.created_at.gte.toFilter=function(){var e=r(n.created_at.gte());return e&&t.momentFromString(e).format()},n.full_text_index.toFilter=function(){var e=r(n.full_text_index());return e&&o(e)||void 0},n}(window.m,window.c.h,window.replaceDiacritics),window.c.admin.contributionListVM=function(e,t){return e.postgrest.paginationVM(t.contributionDetail,"id.desc",{Prefer:"count=exact"})}(window.m,window.c.models);